{"version":3,"sources":["views/gamePlayerInfo.js","views/gameInteractions.js","views/gameSparBattle.js","views/gameScreen.js","views/gameNav.js","views/gameChars.js","views/App.js","data/AppActionTypes.js","data/AppDispatcher.js","data/AppActions.js","data/ScreenStateStore.js","data/Locations/Location.js","data/Locations/LocIdGen.js","data/Locations/LocBaseData.js","data/Locations/LocWorldData.js","data/Locations/LocLianData.js","data/Locations/LocTareinData.js","data/Locations/LocationData.js","data/Characters/Character.js","data/Skills/SkillNames.js","data/CombatLogic/CombatLogicNames.js","data/Characters/CharLianData.js","data/Characters/CharacterData.js","data/Skills/Passive.js","data/Skills/SkillPassive.js","data/Skills/Skill.js","data/Skills/SkillAtk.js","data/Skills/SkillDef.js","data/Skills/SkillAgi.js","data/Skills/SkillSpe.js","data/Skills/SkillData.js","data/Characters/Player.js","data/Utils/SBState.js","data/Utils/Game.js","data/Utils/UpdateReqs.js","data/Utils/ProcessRewards.js","data/Utils/ProcessTake.js","data/Utils/StartSpar.js","data/Utils/GetSkillInfo.js","data/CombatLogic/CLBasic.js","data/CombatLogic/CombatLogic.js","data/Utils/ProcessSkill.js","data/Utils/ProcessSBEnd.js","data/Game/Data.js","data/Game/Common/GameObject.js","data/verboseSettings.js","data/Game/Locations/Location.js","data/Game/Elements/Element.js","data/Game/Game.js","data/GameStore.js","containers/AppContainer.js","index.js"],"names":["gamePlayerInfo","props","showPlayerInfo","gameState","playerView","curLoc","react_default","a","createElement","gold","player","health","cst","atk","def","agi","int","inf","rep","passive","SBState","playerHp","playerEnergy","playerAtk","playerDef","playerAgi","playerInt","playerStatus","map","status","key","playerPassive","pass","SkillData","name","showSkills","skillTypes","skillsToShow","undefined","toggleDisplay","typeToShow","skillOp","document","getElementById","skillNames","style","display","skillNamesToShow","skillType","skill","playerSkill","id","onClick","filter","type","filteredSkill","onDialSkillInfo","className","onSwitchPlayerView","inventory","showInventory","gameInteractions","dialCharId","quest","interact","completeQuest","includes","curChar","doneQuest","activeQuest","questComplete","onCompleteQuest","onInfoQuest","validQuest","onStartQuest","CharData","talk","answer","onDialCharTalk","doneChar","done","checkTalk","question","train","onTrain","stat","multiplier","time","toUpperCase","teachSkill","validSkill","skillId","onLearnSkill","spar","onStartSB","battle","dialLocId","targetLoc","onSwitchLocation","LocData","gameSparBattle","endResult","onEndSB","oppHp","oppEnergy","oppStatus","oppPassive","skillPress","skillPressToShow","console","log","onProcessSBMove","showSkillInfo","gameScreen","Object","objectSpread","dialSysText","dialCharText","validChildrenId","children","location","validLoc","parent","parentName","prevLoc","childId","onDialLocAbout","gameNav","characters","char","validChar","Array","isArray","length","charId","onDialCharAbout","gameChars","Header","screenState","screen","onSwitchScreen","Main","newName","elements","value","onChangeName","getNewName","homeScreen","reportScreen","text","bugsText","otherText","App","ScreenActionTypes","GameActionTypes","SWITCH_LOCATION","DIAL_LOC_ABOUT","DIAL_CHAR_ABOUT","DIAL_CHAR_TALK","DIAL_SKILL_INFO","SWITCH_PLAYER_VIEW","CHAR_INTERACT_TRAIN","CHAR_INTERACT_LEARN","CHAR_INTERACT_START_QUEST","CHAR_INTERACT_INFO_QUEST","CHAR_INTERACT_COMPLETE_QUEST","CHAR_INTERACT_SB","CHAR_INTREACT_END_SB","SB_PROCESS_MOVE","PLAY_CHANGE_GOLD","PLAY_ADD_INVENTORY","PLAY_DEL_INVENTORY","AppDispatcher","Dispatcher","ScreenActions","switchScreen","dispatch","changeName","changeGameId","gameId","GameActions","switchLocation","locId","dialLocAbout","dialCharAbout","dialCharTalk","dialSkillInfo","switchPlayerView","learnSkill","startQuest","infoQuest","startSB","sbType","endSB","CHAR_INTERACT_END_SB","processSBMove","data_ScreenStateStore","ScreenStateStore","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","userId","gameVersion","state","action","ReduceStore","Location","Immutable","Record","order","about","validReq","hint","locIds","LocId","getId","path","reduce","curPath","next","genId","newId","push","_getAndCheckParentId","pop","parentId","getParentId","split","_getChildrenHelper","sliceIdx","startsWith","slice","getChildrenId","newLocId","LocBaseData","set","LocWorldData","LocLianData","LocTareinData","loc","str","cha","curMonth","setVals","locDict","LocationData","Character","logic","doneReq","SkillNames","PAS_FATED","PAS_UNDYING","PAS_WOLF","PAS_BEAR","PAS_DRAGON","PAS_SPEARMAN","PAS_WARRIOR","PAS_BERSERKER","PAS_INFANTRY","PAS_SOLDIER","PAS_KNIGHT","PAS_THIEF","PAS_ROGUE","PAS_ASSASSAIN","PAS_MESSENGER","PAS_ANALYST","PAS_TACTICIAN","ATK_BASIC","ATK_DSTAB","ATK_SMASH","ATK_CHARGE","ATK_FINALBREATH","DEF_BASIC","DEF_PARRY","DEF_BLOCK","DEF_DODGE","DEF_COUNTER","AGI_BASIC","AGI_BACKSTAB","AGI_QUICKSTRIKE","AGI_EVISCERATE","AGI_ASSASSINATE","SPE_ESCAPE","SPE_WAIT","SPE_CHARGEUP","SPE_EXAMINE","SPE_BERSERK","SPE_BANDAGE","SPE_HEAL","STUNNED","BASIC","concat","WARRIOR","SOLDIER","ROGUE","ALL_INT","CombatLogicNames","INTERMEDIATE","ADVANCED","PREDICT","BERSERKER","KNIGHT","ASSASSAIN","_town","_home","_dojo","_school","_hall","_shop","CharLianData","cost","reward","dead","item","doneText","take","CharacterData","Passive","level","bonus","SkillPassive","energy","Skill","onFail","onSuccess","SkillAtk","dmg","selfstatus","SkillDef","steal","SkillAgi","ignore","SkillSpe","end","remove","heal","Player","turn","playerUsedUndying","oppSkill","oppLogic","oppAtk","oppDef","oppAgi","oppInt","oppUsedUndying","Game","deadChar","doneSpar","__checkReq","req","__checkReqs","reqs","i","UpdateChar","interactions","merge","toConsumableArray","UpdateLoc","locParent","locChildren","locChars","child","ProcessRewards","newInventory","newSkill","newPassive","ProcessTake","_loop","_loop2","parseSkill","skill1","newSkillList","j","passiveBonus","passives1","passiveEffects","named","passives","bonusKey","StartSpar","opp","playerPassEffects","oppPassEffects","Math","round","SPE_INTIMIDATE","getOnEvent","info","x","substring","GetSkillInfo","keys","CLBasic","playerSkillId","CombatLogic","ProcessSkill","playerSkillType","playerSkillBonus","oppSkillType","oppSkillBonus","winnerRes","playerBonus","playerType","oppBonus","oppType","_winnerEffect","winner","__calcOnEffect","effects","who","energyStolen","min","sysText","hp","removeStatus","winnerType","faster","max","nName","CalcWinner","endStatus","playerSetUndying","oppSetUndying","_loop3","_loop4","substr","Set","ProcessSBEnd","_prefix","_prefixToName","LOC","ELE","INT","ITM","PAS","SKL","TYP","LGC","TLK","LRN","QST","SPR","BTL","TRD","WPN","AMR","OTH","ATK","DEF","AGI","GameNames","Element","Interaction","Talk","Learn","Quest","Spar","Battle","Trade","Item","Weapon","Armor","Other","Attack","Defense","Agility","Type","Logic","GameData","_GameObject","context","showReqs","validReqs","doneReqs","GameObject","_validateString","input","_idExists","_getObjType","_getObjSubType","_delete","ReferenceError","objectType","objectSubType","delete","create","splice","indexOf","getParent","setParent","getChildren","setChildren","childrenId","addChildren","getName","setName","getAbout","setAbout","getShowReqs","setShowReqs","getValidReqs","setValidReqs","getDoneReqs","setDoneReqs","verboseSettings","verboseLog","statBuild","statBuildFreq","_tries","_success","_Location","_baseLoc","Loc","elementId","locName","createLocId","newLocation","_Element","Ele","elementName","newElementId","_createElementId","newElement","addElement","data","encodeURIComponent","JSON","stringify","href","download","innerHTML","appendChild","LocationObject","ElementObject","LoadGame","SaveGame","LoadDeveloper","SaveGameVersion","printData","data_GameStore","GameStore","GameTest","difference","toAdd","Container","createFunctional","getState","onChangeGameId","ChangeGameId","ReactDOM","render","AppContainer"],"mappings":"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","file":"static/js/main.bf7a5209.chunk.js","sourcesContent":["/**\n * gamePlayerInfo.js by zhongz132@gmail.com\n *\n * Holds views for the player info\n */\n\nimport React from \"react\";\n\nexport default function gamePlayerInfo(props) {\n\tfunction showPlayerInfo() {\n\t\tif (\n\t\t\tprops.gameState.playerView === \"overview\" &&\n\t\t\t(props.gameState.curLoc === \"Spar\" || props.gameState.curLoc === \"Battle\")\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\tHP: {props.gameState.SBState.playerHp}\n\t\t\t\t\t<br />\n\t\t\t\t\tEnergy: {props.gameState.SBState.playerEnergy}\n\t\t\t\t\t<br />\n\t\t\t\t\tATK: {props.gameState.SBState.playerAtk}\n\t\t\t\t\t<br />\n\t\t\t\t\tDEF: {props.gameState.SBState.playerDef}\n\t\t\t\t\t<br />\n\t\t\t\t\tAGI: {props.gameState.SBState.playerAgi}\n\t\t\t\t\t<br />\n\t\t\t\t\tINT: {props.gameState.SBState.playerInt}\n\t\t\t\t\t<br />\n\t\t\t\t\tStatus:\n\t\t\t\t\t{props.gameState.SBState.playerStatus.map(status => (\n\t\t\t\t\t\t<t key={status}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t</t>\n\t\t\t\t\t))}\n\t\t\t\t\t<br />\n\t\t\t\t\tPassives:\n\t\t\t\t\t{props.gameState.SBState.playerPassive.map(pass => (\n\t\t\t\t\t\t<t key={pass}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{props.gameState.SkillData[pass].name}\n\t\t\t\t\t\t</t>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (props.gameState.playerView === \"overview\") {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\tGold: {props.gameState.gold}\n\t\t\t\t\t<br />\n\t\t\t\t\tHealth: {props.gameState.player.health}\n\t\t\t\t\t<br />\n\t\t\t\t\tConstitution: {props.gameState.player.cst}\n\t\t\t\t\t<br />\n\t\t\t\t\tAttack: {props.gameState.player.atk}\n\t\t\t\t\t<br />\n\t\t\t\t\tDefense: {props.gameState.player.def}\n\t\t\t\t\t<br />\n\t\t\t\t\tAgility: {props.gameState.player.agi}\n\t\t\t\t\t<br />\n\t\t\t\t\tIntelligence: {props.gameState.player.int}\n\t\t\t\t\t<br />\n\t\t\t\t\tInfluence: {props.gameState.player.inf}\n\t\t\t\t\t<br />\n\t\t\t\t\tReputation: {props.gameState.player.rep}\n\t\t\t\t\t<br />\n\t\t\t\t\tPassives: {props.gameState.player.passive}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\t// Inventory. Only okay in not spar or battle\n\tfunction showInventory() {\n\t\tif (props.gameState.playerView === \"inventory\") {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\tInventory: {props.gameState.player.inventory}\n\t\t\t\t\t<br />\n\t\t\t\t\tTODO\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction showSkills() {\n\t\tlet skillTypes = [\"ATK\", \"DEF\", \"AGI\", \"SPE\"];\n\t\tlet skillsToShow = undefined;\n\t\tif (\n\t\t\t(props.gameState.curLoc === \"Spar\" || props.gameState.curLoc === \"Battle\") &&\n\t\t\tprops.gameState.playerView === \"skills\"\n\t\t) {\n\t\t\tskillsToShow = props.gameState.SBState.playerSkill;\n\t\t} else {\n\t\t\tskillsToShow = props.gameState.player.skill;\n\t\t}\n\n\t\tfunction toggleDisplay(typeToShow) {\n\t\t\tlet skillOp = document.getElementById(\"Skill-options-info\");\n\t\t\tlet skillNames = document.getElementById(\"Skill-names-info\");\n\n\t\t\tif (typeToShow === \"NONE\") {\n\t\t\t\tskillOp.style.display = \"block\";\n\t\t\t\tskillNames.style.display = \"none\";\n\t\t\t} else {\n\t\t\t\tlet skillNamesToShow = document.getElementById(\"Skill-names-info-\" + typeToShow);\n\t\t\t\tskillOp.style.display = \"none\";\n\t\t\t\tskillNames.style.display = \"block\";\n\t\t\t\tskillNamesToShow.style.display = \"block\";\n\n\t\t\t\tfor (var skillType in skillTypes) {\n\t\t\t\t\tif (skillTypes[skillType] !== typeToShow) {\n\t\t\t\t\t\tdocument.getElementById(\"Skill-names-info-\" + skillTypes[skillType]).style.display = \"none\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction showSkill() {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<t id=\"Skill-title-info\">Skills:</t>\n\t\t\t\t\t<div id=\"Skill-options-info\">\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"ATK\")}>Attack Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"DEF\")}>Defense Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"AGI\")}>Agility Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"SPE\")}>Special Skills</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"Skill-names-info\" style={{ display: \"none\" }}>\n\t\t\t\t\t\t{skillTypes.map(skillType => (\n\t\t\t\t\t\t\t<div key={skillType} id={\"Skill-names-info-\" + skillType} style={{ display: \"none\" }}>\n\t\t\t\t\t\t\t\t{skillsToShow\n\t\t\t\t\t\t\t\t\t.filter(skill => props.gameState.SkillData[skill].type === skillType)\n\t\t\t\t\t\t\t\t\t.map(filteredSkill => (\n\t\t\t\t\t\t\t\t\t\t<div key={filteredSkill}>\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={() => props.onDialSkillInfo(filteredSkill)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{props.gameState.SkillData[filteredSkill].name}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"NONE\")}>Return</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (props.gameState.playerView === \"skills\") {\n\t\t\treturn showSkill();\n\t\t}\n\t}\n\n\t// Actual screen\n\tif (props.gameState.curLoc !== \"Spar\" && props.gameState.curLoc !== \"Battle\") {\n\t\treturn (\n\t\t\t<div id=\"Game-playerinfo\">\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchPlayerView(\"overview\")}>\n\t\t\t\t\tPlayer\n\t\t\t\t</button>\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchPlayerView(\"inventory\")}>\n\t\t\t\t\tInventory\n\t\t\t\t</button>\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchPlayerView(\"skills\")}>\n\t\t\t\t\tSkills\n\t\t\t\t</button>\n\t\t\t\t{showPlayerInfo()}\n\t\t\t\t{showInventory()}\n\t\t\t\t{showSkills()}\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"Game-playerinfo\">\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchPlayerView(\"overview\")}>\n\t\t\t\t\tPlayer\n\t\t\t\t</button>\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchPlayerView(\"skills\")}>\n\t\t\t\t\tSkills\n\t\t\t\t</button>\n\t\t\t\t{showPlayerInfo()}\n\t\t\t\t{showSkills()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","/**\n * gameInteractions.js by zhongz132@gmail.com\n *\n * Holds views for the interactions.\n */\n\nimport React from \"react\";\n\nexport default function gameInteractions(props) {\n\t// Currently interacting with a character\n\tif (props.gameState.dialCharId) {\n\t\t// Currently interacting with a character\n\t\tlet curChar = props.gameState.dialCharId;\n\t\tlet interact = props.gameState.CharData[curChar].interact;\n\n\t\t// hide the element\n\t\tfunction hide(id) {\n\t\t\tvar x = document.getElementById(id);\n\t\t\tif (x) {\n\t\t\t\tif (x.style) {\n\t\t\t\t\tx.style.display = \"none\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Toggle the talk id given\n\t\tfunction display(id) {\n\t\t\tvar x = document.getElementById(id);\n\t\t\tif (x.style.display === \"none\") {\n\t\t\t\tx.style.display = \"block\";\n\t\t\t} else {\n\t\t\t\tx.style.display = \"none\";\n\t\t\t}\n\t\t}\n\n\t\t// Checks if the character is done. If so, display different text\n\t\tfunction checkTalk(talk) {\n\t\t\tif (props.gameState.doneChar.includes(curChar)) {\n\t\t\t\tif (talk.done) {\n\t\t\t\t\treturn talk.done;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn talk.answer;\n\t\t}\n\n\t\t// Shows the dialog options\n\t\t//<button className=\"game-button\" onClick={() => display(talk.answer)}>\n\t\tfunction showTalk() {\n\t\t\treturn props.gameState.CharData[curChar].talk.map(talk => (\n\t\t\t\t<div key={talk.answer}>\n\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onDialCharTalk(checkTalk(talk))}>\n\t\t\t\t\t\t{talk.question}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t));\n\t\t}\n\n\t\t// train a stat\n\t\tfunction train() {\n\t\t\tif (interact.train) {\n\t\t\t\treturn (\n\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"game-button\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.onTrain(interact.train.stat, interact.train.multiplier, interact.train.time)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTrain {interact.train.stat.toUpperCase()}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// learn a skill\n\t\tfunction teachSkill() {\n\t\t\tif (\n\t\t\t\tinteract.teachSkill &&\n\t\t\t\tprops.gameState.validSkill.includes(interact.teachSkill.skillId) &&\n\t\t\t\t!props.gameState.player.skill.includes(interact.teachSkill.skillId)\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"game-button\"\n\t\t\t\t\t\t\tonClick={() => props.onLearnSkill(interact.teachSkill.skillId, interact.teachSkill.time)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLearn Skill\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// start a quest\n\n\t\tfunction quest() {\n\t\t\tif (interact.quest) {\n\t\t\t\t// Quest is complete; do not show quest\n\t\t\t\tif (props.gameState.completeQuest.includes(curChar)) {\n\t\t\t\t}\n\t\t\t\t// Quest started and done, but not yet turned in\n\t\t\t\telse if (props.gameState.doneQuest.includes(curChar) && props.gameState.activeQuest.includes(curChar)) {\n\t\t\t\t\tlet questComplete = false;\n\t\t\t\t\tfunction finishQuest() {\n\t\t\t\t\t\tif (!questComplete) {\n\t\t\t\t\t\t\tprops.onCompleteQuest(curChar);\n\t\t\t\t\t\t\tquestComplete = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t\t<button className=\"game-button\" onClick={() => finishQuest()}>\n\t\t\t\t\t\t\t\tCompelte Quest\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Quest currently active and not done. Get the information\n\t\t\t\telse if (props.gameState.activeQuest.includes(curChar)) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onInfoQuest(curChar)}>\n\t\t\t\t\t\t\t\tQuest\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Quest is availble but not started yet\n\t\t\t\telse if (props.gameState.validQuest.includes(curChar)) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onStartQuest(curChar)}>\n\t\t\t\t\t\t\t\tStart Quest\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// spar\n\t\tfunction spar() {\n\t\t\tif (interact.spar) {\n\t\t\t\treturn (\n\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onStartSB(\"Spar\")}>Spar</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// battle\n\t\tfunction battle() {\n\t\t\tif (interact.battle) {\n\t\t\t\treturn (\n\t\t\t\t\t<div id=\"char-interact\">\n\t\t\t\t\t\t<button>Battle</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Show the interaction options\n\t\tfunction showInt() {\n\t\t\treturn (\n\t\t\t\t<div id=\"Game-interact\">\n\t\t\t\t\t{train()}\n\t\t\t\t\t{teachSkill()}\n\t\t\t\t\t{quest()}\n\t\t\t\t\t{spar()}\n\t\t\t\t\t{battle()}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div id=\"Game-interactions\">\n\t\t\t\t<t id=\"underline\">Character Actions</t>\n\t\t\t\t<br />\n\t\t\t\t{showTalk()}\n\t\t\t\t{showInt()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Currently at a location, and no character\n\telse if (props.gameState.dialLocId) {\n\t\t// location, but not character\n\t\tlet targetLoc = props.gameState.dialLocId;\n\t\treturn (\n\t\t\t<div id=\"Game-interactions\">\n\t\t\t\t<t id=\"underline\">Location Actions</t>\n\t\t\t\t<br />\n\t\t\t\t<button className=\"game-button\" onClick={() => props.onSwitchLocation(targetLoc)}>\n\t\t\t\t\tGo to {props.gameState.LocData[targetLoc].name}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// No location or character\n\telse {\n\t\treturn (\n\t\t\t<div id=\"Game-interactions\">\n\t\t\t\t<t id=\"underline\">Actions</t>\n\t\t\t\t<br />\n\t\t\t\t<t>Select a location or character to interact with.</t>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","/**\n * gameSparBattle.js by zhongz132@gmail.com\n *\n * Holds views for spars and battles.\n */\n\nimport React from \"react\";\n\nfunction gameSparBattle(props) {\n\tlet curLoc = props.gameState.curLoc;\n\n\tfunction showExitInfo() {\n\t\tif (props.gameState.SBState.endResult) {\n\t\t\treturn(\n\t\t\t\t<div id =\"Game-nav\">\n\t\t\t\t\t<button onClick={() => props.onEndSB()}>Finish</button>\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div id=\"Game-nav\">\n\t\t\t\t\t<t>You can not leave while in combat.</t>\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t}\n\n\tfunction showOppInfo() {\n\t\treturn (\n\t\t\t<div id=\"Game-characters\">\n\t\t\t\t{props.gameState.CharData[props.gameState.curChar].name}\n\t\t\t\t<br />\n\t\t\t\tHP: {props.gameState.SBState.oppHp}\n\t\t\t\t<br />\n\t\t\t\tEnergy: {props.gameState.SBState.oppEnergy}\n\t\t\t\t<br />\n\t\t\t\tStatus:\n\t\t\t\t{props.gameState.SBState.oppStatus.map(status => (\n\t\t\t\t\t<t key={status}>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{status}\n\t\t\t\t\t</t>\n\t\t\t\t))}\n\t\t\t\t<br />\n\t\t\t\tPassives:\n\t\t\t\t{props.gameState.SBState.oppPassive.map(pass => (\n\t\t\t\t\t<t key={pass}>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{props.gameState.SkillData[pass].name}\n\t\t\t\t\t</t>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction showSkillInfo() {\n\t\tlet skillTypes = [\"ATK\", \"DEF\", \"AGI\", \"SPE\"];\n\n\t\tfunction toggleDisplay(typeToShow) {\n\t\t\tlet skillOp = document.getElementById(\"Skill-options\");\n\t\t\tlet skillNames = document.getElementById(\"Skill-names\");\n\t\t\tlet skillPress = document.getElementById(\"Skill-press\");\n\n\t\t\tif (typeToShow === \"NONE\") {\n\t\t\t\tskillOp.style.display = \"block\";\n\t\t\t\tskillNames.style.display = \"none\";\n\t\t\t\tskillPress.style.display = \"none\";\n\t\t\t} else {\n\t\t\t\tlet skillNamesToShow = document.getElementById(\"Skill-names-\" + typeToShow);\n\t\t\t\tlet skillPressToShow = document.getElementById(\"Skill-press-\" + typeToShow);\n\t\t\t\tskillOp.style.display = \"none\";\n\t\t\t\tskillNames.style.display = \"block\";\n\t\t\t\tskillNamesToShow.style.display = \"block\";\n\t\t\t\tskillPress.style.display = \"block\";\n\t\t\t\tskillPressToShow.style.display = \"block\";\n\n\t\t\t\tfor (var skillType in skillTypes) {\n\t\t\t\t\tif (skillTypes[skillType] !== typeToShow) {\n\t\t\t\t\t\tdocument.getElementById(\"Skill-names-\" + skillTypes[skillType]).style.display = \"none\";\n\t\t\t\t\t\tdocument.getElementById(\"Skill-press-\" + skillTypes[skillType]).style.display = \"none\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction showSkill() {\n\t\t\tconsole.log(props.gameState.SBState.playerSkill)\n\t\t\treturn (\n\t\t\t\t<div id=\"Game-interactions\">\n\t\t\t\t\t<t id=\"Skill-title\">Skills:</t>\n\t\t\t\t\t<div id=\"Skill-options\">\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"ATK\")}>Attack Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"DEF\")}>Defense Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"AGI\")}>Agility Skills</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"SPE\")}>Special Skills</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"Skill-names\" style={{ display: \"none\" }}>\n\t\t\t\t\t\t{skillTypes.map(skillType => (\n\t\t\t\t\t\t\t<div key={skillType} id={\"Skill-names-\" + skillType} style={{ display: \"none\" }}>\n\t\t\t\t\t\t\t\t{props.gameState.SBState.playerSkill\n\t\t\t\t\t\t\t\t\t.filter(skill => props.gameState.SkillData[skill].type === skillType)\n\t\t\t\t\t\t\t\t\t.map(skill => (\n\t\t\t\t\t\t\t\t\t\t<t key={skill}>\n\t\t\t\t\t\t\t\t\t\t\t{props.gameState.SkillData[skill].name}\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</t>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={() => toggleDisplay(\"NONE\")}>Return</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"Skill-press\" style={{ display: \"none\" }}>\n\t\t\t\t\t\t{skillTypes.map(skillType => (\n\t\t\t\t\t\t\t<div key={skillType} id={\"Skill-press-\" + skillType} style={{ display: \"none\" }}>\n\t\t\t\t\t\t\t\t{props.gameState.SBState.playerSkill\n\t\t\t\t\t\t\t\t\t.filter(skill => props.gameState.SkillData[skill].type === skillType)\n\t\t\t\t\t\t\t\t\t.map(skill => (\n\t\t\t\t\t\t\t\t\t\t<button key={skill} onClick={() => props.onProcessSBMove(skill)}>\n\t\t\t\t\t\t\t\t\t\t\tUSE\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn showSkill();\n\t}\n\n\tif (curLoc === \"Spar\") {\n\t} else if (curLoc === \"Battle\") {\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{showExitInfo()}\n\t\t\t{showOppInfo()}\n\t\t\t{showSkillInfo()}\n\t\t</div>\n\t);\n}\n\nexport default gameSparBattle;\n","/**\n * gameScreen.js by zhongz132@gmail.com\n *\n * Holds views for the game screen.\n */\n\nimport React from \"react\";\nimport gamePlayerInfo from \"./gamePlayerInfo.js\";\nimport gameNav from \"./gameNav.js\";\nimport gameChars from \"./gameChars.js\";\nimport gameInteractions from \"./gameInteractions.js\";\nimport gameSparBattle from \"./gameSparBattle.js\";\n\n// GAME SCREEN BASE\nfunction gameScreen(props) {\n\tif (props.gameState.curLoc === \"Spar\" || props.gameState.curLoc === \"Battle\") {\n\t\treturn (\n\t\t\t<div id=\"Game-screen\">\n\t\t\t\t<div id=\"Game-time>\"> Time: {props.gameState.time} </div>\n\t\t\t\t<div id=\"Game-main\">\n\t\t\t\t\t{gameSparBattle({ ...props })}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"Game-player\">{gamePlayerInfo({ ...props })}</div>\n\t\t\t\t<div id=\"Game-dialog\">\n\t\t\t\t\tSystem: {props.gameState.dialSysText}\n\t\t\t\t\t<br />\n\t\t\t\t\tDialog: {props.gameState.dialCharText}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"Game-screen\">\n\t\t\t\t<div id=\"Game-time>\"> Time: {props.gameState.time} </div>\n\t\t\t\t<div id=\"Game-main\">\n\t\t\t\t\t{gameNav({ ...props })}\n\t\t\t\t\t{gameChars({ ...props })}\n\t\t\t\t\t{gameInteractions({ ...props })}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"Game-player\">{gamePlayerInfo({ ...props })}</div>\n\t\t\t\t<div id=\"Game-dialog\">\n\t\t\t\t\tSystem: {props.gameState.dialSysText}\n\t\t\t\t\t<br />\n\t\t\t\t\tDialog: {props.gameState.dialCharText}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default gameScreen;\n","/**\n * gameNav.js by zhongz132@gmail.com\n *\n * Holds views for the navigation bar.\n */\n\nimport React from \"react\";\n\n// Navigation info\nexport default function gameNav(props) {\n\tlet curLoc = props.gameState.curLoc;\n\n\tlet childrenId = props.gameState.LocData[curLoc].children;\n\n\tlet validChildrenId = childrenId.filter(location => props.gameState.validLoc.includes(location));\n\n\tlet parent = props.gameState.LocData[curLoc].parent;\n\n\tlet parentName = \"Back\";\n\n\tif (parent) {\n\t\tparentName = props.gameState.LocData[parent].name;\n\t} else {\n\t\tparent = props.gameState.prevLoc;\n\t}\n\n\tfunction validChildren() {\n\t\treturn (\n\t\t\t<div id=\"Game-children\">\n\t\t\t\t<t id=\"underline\">Places</t>\n\t\t\t\t{validChildrenId.map(childId => (\n\t\t\t\t\t<div key={childId}>\n\t\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onDialLocAbout(childId)}>\n\t\t\t\t\t\t\t{props.gameState.LocData[childId].name}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction validParent() {\n\t\tif (parentName === \"Back\") {\n\t\t\treturn (\n\t\t\t\t<div id=\"Game-parent\">\n\t\t\t\t\t<br />\n\t\t\t\t\t<t id=\"underline\">Previous Location</t>\n\t\t\t\t\t<br />\n\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onDialLocAbout(parent)}>\n\t\t\t\t\t\t{parentName}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div id=\"Game-parent\">\n\t\t\t\t\t<br />\n\t\t\t\t\t<t id=\"underline\">Exit Location</t>\n\t\t\t\t\t<br />\n\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onDialLocAbout(parent)}>\n\t\t\t\t\t\t{parentName}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\tif (curLoc !== \"Spar\" && curLoc !== \"Battle\") {\n\t\treturn (\n\t\t\t<div id=\"Game-nav\">\n\t\t\t\t{validChildren()}\n\t\t\t\t{validParent()}\n\t\t\t</div>\n\t\t);\n\t} \n}\n","/**\n * gameChars.js by zhongz132@gmail.com\n *\n * Holds views for the characters.\n */\n\nimport React from \"react\";\n\n// Shows the characters\nexport default function gameChars(props) {\n\tlet curLoc = props.gameState.curLoc;\n\tlet characters = props.gameState.LocData[curLoc].characters;\n\tcharacters = characters.filter(char => props.gameState.validChar.includes(char));\n\tif (Array.isArray(characters) && characters.length) {\n\t\treturn (\n\t\t\t<div id=\"Game-characters\">\n\t\t\t\t<t id=\"underline\">Characters</t>\n\t\t\t\t{characters.map(charId => (\n\t\t\t\t\t<div key={charId}>\n\t\t\t\t\t\t<button className=\"game-button\" onClick={() => props.onDialCharAbout(charId)}>\n\t\t\t\t\t\t\t{props.gameState.CharData[charId].name}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"Game-characters\">\n\t\t\t\t<t id=\"underline\">Characters</t>\n\t\t\t\t<br />\n\t\t\t\tThere are no characters to interact with.\n\t\t\t</div>\n\t\t);\n\t}\n}","/**\n * App.js by zhongz132@gmail.com\n *\n * Holds views for all screens without child components (everything but gameScreen).\n */\n\nimport React from \"react\";\nimport gameScreen from \"./gameScreen.js\";\n\nfunction App(props) {\n\treturn (\n\t\t<div>\n\t\t\t<Header {...props} />\n\t\t\t<Main {...props} />\n\t\t</div>\n\t);\n}\n\nfunction Header(props) {\n\tif (props.screenState.screen === \"Game\") {\n\t\treturn (\n\t\t\t// TODO: If screen is game, change location to location name\n\t\t\t// <button id=\"button-header\">{props.gameState.locData.get(props.gameState.curLoc).name}</button> <t />\n\t\t\t<div id=\"App-header\">\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Home\")}>\n\t\t\t\t\tHome\n\t\t\t\t</button>{\" \"}\n\t\t\t\t<t />\n\t\t\t\t<button id=\"button-header\">{props.gameState.LocData[props.gameState.curLoc].name}</button> <t />\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Help\")}>\n\t\t\t\t\tHelp\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t} else if (props.screenState.screen === \"Help\") {\n\t\treturn (\n\t\t\t<div id=\"App-header\">\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Home\")}>\n\t\t\t\t\tHome\n\t\t\t\t</button>{\" \"}\n\t\t\t\t<t />\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Report\")}>\n\t\t\t\t\tReport\n\t\t\t\t</button>{\" \"}\n\t\t\t\t<t />\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Game\")}>\n\t\t\t\t\tResume\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"App-header\">\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Home\")}>\n\t\t\t\t\tHome\n\t\t\t\t</button>{\" \"}\n\t\t\t\t<t />\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"About\")}>\n\t\t\t\t\tAbout\n\t\t\t\t</button>{\" \"}\n\t\t\t\t<t />\n\t\t\t\t<button id=\"button-header\" onClick={() => props.onSwitchScreen(\"Help\")}>\n\t\t\t\t\tHelp\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction Main(props) {\n\tswitch (props.screenState.screen) {\n\t\tcase \"Home\":\n\t\t\treturn homeScreen({ ...props });\n\t\tcase \"About\":\n\t\t\treturn aboutScreen({ ...props });\n\t\tcase \"Load\":\n\t\t\treturn loadScreen({ ...props });\n\t\tcase \"Help\":\n\t\t\treturn helpScreen({ ...props });\n\t\tcase \"Report\":\n\t\t\treturn reportScreen({ ...props }, \"\");\n\t\tcase \"Game\":\n\t\t\treturn gameScreen({ ...props });\n\t\tdefault:\n\t\t\treturn reportScreen({ ...props }, \"Invalid screen: \" + props.screenState.screen + \". Please report!\");\n\t}\n}\n\nfunction homeScreen(props) {\n\tfunction getNewName() {\n\t\tlet x = document.getElementById(\"nameForm\");\n\t\tlet newName = x.elements[0].value;\n\t\tprops.onChangeName(newName);\n\t}\n\n\treturn (\n\t\t<div id=\"Main-home\">\n\t\t\t<h1 id=\"Home-title\">Rifeel</h1>\n\t\t\t<h2>The Life of a Fighter</h2>\n\t\t\t<button id=\"button-text\" onClick={() => props.onSwitchScreen(\"Game\")}>\n\t\t\t\tBegin Game\n\t\t\t</button>{\" \"}\n\t\t\t<t />\n\t\t\t<button id=\"button-text\" onClick={() => props.onSwitchScreen(\"Game\")}>\n\t\t\t\tResume Game\n\t\t\t</button>{\" \"}\n\t\t\t<t />\n\t\t\t<button id=\"button-text\" onClick={() => props.onSwitchScreen(\"Load\")}>\n\t\t\t\tLoad Game\n\t\t\t</button>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<form id=\"nameForm\">\n\t\t\t\t<input type=\"text\" name=\"fname\" />\n\t\t\t</form>\n\t\t\t<button id=\"button-text\" onClick={() => getNewName()}>\n\t\t\t\tChange Name\n\t\t\t</button>\n\t\t\t<p>Your name: {props.screenState.name}</p>\n\t\t</div>\n\t);\n}\n\nfunction aboutScreen(props) {\n\treturn (\n\t\t<div id=\"Main-about\">\n\t\t\tA javascript game written with the help of Flux and React.\n\t\t\t<br />\n\t\t\tCurrently, save states are stored in the browser local storage, so clearing it will erase game data.\n\t\t\t<br />\n\t\t\tWritten by Zhonghao Zhou\n\t\t\t<br />\n\t\t\tContact: zhongz132@gmail.com\n\t\t\t<br />\n\t\t\tCode location (SPOILS GAME): https://github.com/zhongz132/Rifeel-LOaF\n\t\t</div>\n\t);\n}\n\nfunction loadScreen(props) {\n\t//TODO: THIS!\n\treturn (\n\t\t<div id=\"Main-home\">\n\t\t\t<p>Load Screen</p>\n\t\t\t<p>Feature working</p>\n\t\t</div>\n\t);\n}\n\nfunction helpScreen(props) {\n\t//TODO: THIS!\n\treturn (\n\t\t<div id=\"Main-home\">\n\t\t\t<p>Help Screen</p>\n\t\t\t<p>Feature working</p>\n\t\t</div>\n\t);\n}\n\nfunction reportScreen(props, text) {\n\tlet bugsText = \"Bugs: https://github.com/zhongz132/Rifeel-LOaF/issues\";\n\tlet otherText = 'Other: Email zhongz132@gmail.com with subject: \"Rifeel-LOaF: {issue}\"';\n\tif (text.length > 0) {\n\t\treturn (\n\t\t\t<div id=\"Main-home\">\n\t\t\t\t<p> Bug: {text} </p>\n\t\t\t\t<p> {bugsText} </p>\n\t\t\t\t<p> {otherText} </p>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"Main-home\">\n\t\t\t\t<p> {bugsText} </p>\n\t\t\t\t<p> {otherText} </p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","/**\n * AppActionTypes.js by zhongz132@gmail.com\n *\n * All the action types possible\n */\n\nconst ScreenActionTypes = {\n\tSWITCH_SCREEN: \"SWITCH_SCREEN\", // Changes main screens\n\tCHANGE_NAME: \"CHANGE_NAME\", // Changes player name\n\tCHANGE_GAMEID: \"CHANGE_GAMEID\" // Changes the game it load\n};\n\nconst GameActionTypes = {\n\t// Highest level Location Controllers\n\tSWITCH_LOCATION: \"SWITCH_LOCATION\", // Switches the location the player is in\n\tDIAL_LOC_ABOUT: \"DIAL_LOC_ABOUT\", // Loads when clicked on a location. Loads information and the option to switch\n\n\t// Highest Level Character Controllers\n\tDIAL_CHAR_ABOUT: \"DIAL_CHAR_ABOUT\", // What happens the player chooses a Char to interact with\n\tDIAL_CHAR_TALK: \"DIAL_CHAR_TALK\",\n\n\tDIAL_SKILL_INFO: \"DIAL_SKILL_INFO\", // Show a skill info.\n\n\t// Controls which screen of the player that is currently being viewed\n\tSWITCH_PLAYER_VIEW: \"SWITCH_PLAYER_VIEW\",\n\n\t// Interact Controllers\n\tCHAR_INTERACT_TRAIN: \"CHAR_INTERACT_TRAIN\",\n\tCHAR_INTERACT_LEARN: \"CHAR_INTERACT_LEARN\",\n\tCHAR_INTERACT_START_QUEST: \"CHAR_INTERACT_START_QUEST\",\n\tCHAR_INTERACT_INFO_QUEST: \"CHAR_INTERACT_INFO_QUEST\",\n\tCHAR_INTERACT_COMPLETE_QUEST: \"CHAR_INTERACT_COMPLETE_QUEST\",\n\tCHAR_INTERACT_SB: \"CHAR_INTERACT_SB\", // CHANGES LOCATION\n\tCHAR_INTREACT_END_SB: \"CHAR_INTREACT_END_SB\",\n\n\tSB_PROCESS_MOVE: \"SB_PROCESS_MOVE\",\n\n\t// Player Controllers:\n\tPLAY_CHANGE_GOLD: \"PLAY_CHANGE_GOLD\", // Requires: ChangeVal, Time, ChangeAFF\n\n\tPLAY_ADD_INVENTORY: \"PLAY_ADD_INVENTORY\",\n\tPLAY_DEL_INVENTORY: \"PLAY_DEL_INVENTORY\"\n};\n\nconst BattleActionTypes = {\n\t// Basic skills. Everyone has these\n\tBATTLE_ATK: \"BATTLE_ATK\",\n\tBATTLE_DEF: \"BATTLE_DEF\",\n\tBATTLE_SNEAK: \"BATTLE_SNEAK\",\n\tBATTLE_WAIT: \"BATTLE_WAIT\",\n\tBATTLE_BASIC: [\"BATTLE_ATK\", \"BATTLE_DEF\", \"BATTLE_SNEAK\", \"BATTLE_WAIT\", \"BATTLE_ESCAPE\"],\n\n\t// Intermmediate skills\n\tBATTLE_DSTAB: \"BATTLE_DSTAB\", \n\tBATTLE_SMASH: \"BATTLE_SMASH\", \n\tBATTLE_PARRY: \"BATTLE_PARRY\",\n\tBATTLE_BLOCK: \"BATTLE_BLOCK\",\n\tBATTLE_BACKSTAB: \"BATTLE_BACKSTAB\",\n\tBATTLE_POISON: \"BATTLE_QUICKSTRIKE\",\n\n\tBATTLE_INT1: [\"BATTLE_DSTAB\", \"BATTLE_PARRY\", \"BATTLE_BACKSTAB\"],\n\tBATTLE_INT2: [\"BATTLE_DSTAB\", \"BATTLE_SMASH\", \"BATTLE_PARRY\", \"BATTLE_BLOCK\", \"BATTLE_BACKSTAB\", \"BATTLE_QUICKSTRIKE\"],\n\tBATTLE_INTATK: [\"BATTLE_DSTAB\", \"BATTLE_SMASH\"],\n\tBATTLE_INTDEF: [\"BATTLE_PARRY\", \"BATTLE_BLOCK\"],\n\tBATTLE_INTAGI: [\"BATTLE_BACKSTAB\", \"BATTLE_QUICKSTRIKE\"],\n\n\t// Advanced skills\n\tBATTLE_CHARGE: \"BATTLE_CHARGE\",\n\tBATTLE_FINALBREATH: \"BATTLE_FINALBREATH\",\n\tBATTLE_DODGE: \"BATTLE_DODGE\",\n\tBATTLE_COUNTER: \"BATTLE_COUNTER\",\n\tBATTLE_EVISCERATE: \"BATTLE_EVISCERATE\",\n\tBATTLE_ASSASSINATE: \"BATTLE_ASSASSINATE\",\n\n\t// Special\n\tBATTLE_ESCAPE: \"BATTLE_ESCAPE\",\n\tBATTLE_INTIMIDATE: \"BATTLE_INTIMIDATE\",\n\tBATTLE_EXAMINE: \"BATTLE_EXAMINE\", \n\tBATTLE_CHARGEUP: \"BATTLE_CHARGEUP\",\n\tBATTLE_BANDAGE: \"BATTLE_BANDAGE\",\n\tBATTLE_HEAL: \"BATTLE_HEAL\",\n};\n\nexport { ScreenActionTypes, GameActionTypes, BattleActionTypes };\n","import {Dispatcher} from 'flux';\n\nexport default new Dispatcher();","/**\n * AppActions.js by zhongz132@gmail.com\n *\n * Dispatcher values for each action.\n */\n\nimport { ScreenActionTypes, GameActionTypes } from \"./AppActionTypes.js\";\nimport AppDispatcher from \"./AppDispatcher.js\";\n\nconst ScreenActions = {\n\tswitchScreen(text) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: ScreenActionTypes.SWITCH_SCREEN,\n\t\t\ttext\n\t\t});\n\t},\n\n\tchangeName(text) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: ScreenActionTypes.CHANGE_NAME,\n\t\t\ttext\n\t\t});\n\t},\n\n\tchangeGameId(gameId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: ScreenActionTypes.CHANGE_GAMEID,\n\t\t\tgameId\n\t\t});\n\t}\n};\n\nconst GameActions = {\n\tswitchLocation(locId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.SWITCH_LOCATION,\n\t\t\tlocId\n\t\t});\n\t},\n\n\tdialLocAbout(locId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.DIAL_LOC_ABOUT,\n\t\t\tlocId\n\t\t});\n\t},\n\n\tdialCharAbout(charId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.DIAL_CHAR_ABOUT,\n\t\t\tcharId\n\t\t});\n\t},\n\n\tdialCharTalk(dialCharText) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.DIAL_CHAR_TALK,\n\t\t\tdialCharText\n\t\t});\n\t},\n\n\tdialSkillInfo(skillId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.DIAL_SKILL_INFO,\n\t\t\tskillId\n\t\t})\n\t},\n\n\tswitchPlayerView(playerView) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.SWITCH_PLAYER_VIEW,\n\t\t\tplayerView\n\t\t});\n\t},\n\n\ttrain(stat, multiplier, time) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_TRAIN,\n\t\t\tstat,\n\t\t\tmultiplier,\n\t\t\ttime\n\t\t});\n\t},\n\n\tlearnSkill(skillId, time) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_LEARN,\n\t\t\tskillId,\n\t\t\ttime\n\t\t});\n\t},\n\n\tstartQuest(charId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_START_QUEST,\n\t\t\tcharId\n\t\t});\n\t},\n\n\tinfoQuest(charId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_INFO_QUEST,\n\t\t\tcharId\n\t\t});\n\t},\n\n\tcompleteQuest(charId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_COMPLETE_QUEST,\n\t\t\tcharId\n\t\t});\n\t},\n\n\tstartSB(sbType) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_SB,\n\t\t\tsbType\n\t\t});\n\t},\n\n\tendSB() {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.CHAR_INTERACT_END_SB\n\t\t});\n\t},\n\n\tprocessSBMove(skillId) {\n\t\tAppDispatcher.dispatch({\n\t\t\ttype: GameActionTypes.SB_PROCESS_MOVE,\n\t\t\tskillId\n\t\t});\n\t}\n};\n\nexport { ScreenActions, GameActions };\n","/**\n * ScreenStateStore.js by zhongz132@gmail.com\n * \n * Store for the screen state.\n */\n\nimport {ReduceStore} from 'flux/utils';\nimport {ScreenActionTypes} from './AppActionTypes';\nimport AppDispatcher from './AppDispatcher.js';\n\nclass ScreenStateStore extends ReduceStore {\n\tconstructor() {\n\t\tsuper(AppDispatcher)\n\t}\n\n\tgetInitialState() {\n\t\treturn {\n\t\t\tname: \"Alice\",\n\t\t\tuserId: \"\",\n\t\t\tscreen: \"Home\",\n\t\t\tgameVersion: \"Rifeel-LOaF-0.01\",\n\t\t\tgameId: 0\n\t\t};\n\t}\n\n\treduce(state, action) {\n\t\tswitch(action.type) {\n\t\t\tcase ScreenActionTypes.SWITCH_SCREEN:\n\t\t\t\treturn {...state, screen: action.text};\n\t\t\tcase ScreenActionTypes.CHANGE_NAME:\n\t\t\t\treturn {...state, name: action.text}\n\t\t\tcase ScreenActionTypes.CHANGE_GAMEID:\n\t\t\t\treturn {...state, gameId: action.gameId}\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport default new ScreenStateStore();","/**\n * Location.js by zhongz132@gmail.com\n *\n * Declaration of location element in the game\n */\n\nimport Immutable from \"immutable\";\n\nconst Location = Immutable.Record({\n\tlocId: \"\", // Location Id, CIRTICAL WARNING: UNIQUE\n\torder: 999999, //\n\ttime: 1,\n\n\tparent: \"\", // Parent location\n\tchildren: [], // List of locations which are accesible from current location\n\tcharacters: [], // List of characters which are available to interact with\n\n\tname: \"\", // Name of the location or scenario\n\tabout: \"\", // Short description of the location\n\tvalidReq: [], // Requirements for this to be valid. Only need one in the list to be true\n\thint: \"\", // Hint on how to unlock location if invalid\n});\n\nexport default Location;\n","/**\n * LocIdGenjs by zhongz132@gmail.com\n *\n * Generated unique location Ids\n */\n\nconst locIds = [];\n\nconst LocId = {\n\tgetId(path) {\n\t\tif (path.length > 0) {\n\t\t\tlet returnId = path.reduce((curPath, next) => curPath + \"_\" + next);\n\t\t\treturn returnId;\n\t\t} else {\n\t\t\tconsole.log(\"Error: Tried to get the locId of empty path in genLocId.getId\");\n\t\t\treturn null;\n\t\t}\n\t},\n\tgenId(path) {\n\t\tlet newId = this.getId(path);\n\t\tif (locIds.includes(newId)) {\n\t\t\tconsole.log(\"Critical Error: Repeating key: \" + newId);\n\t\t\treturn null;\n\t\t} else if (newId[newId.length - 1] === \"_\")\n\t\t\tconsole.log(\"Error: Locations can not have no key.\");\n\t\telse {\n\t\t\t//locIds = [...locIds, newId];\n\t\t\tlocIds.push(newId);\n\t\t\treturn newId;\n\t\t}\n\t},\n\t_getAndCheckParentId(path) {\n\t\tpath.pop();\n\t\tif (path.length === 0) {\n\t\t\t// Is base location\n\t\t\treturn \"\";\n\t\t}\n\t\tlet parentId = this.getId(path);\n\t\tif (locIds.includes(parentId)) {\n\t\t\treturn parentId;\n\t\t} else {\n\t\t\tconsole.log(\"Critical Error: No parent key: \" + parentId);\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetParentId(locId) {\n\t\tif (locId === null) {\n\t\t\tconsole.log(\"Critical Error: Tried to get the parent of a null object in genLocId.getParentId.\");\n\t\t\treturn null;\n\t\t} else if (typeof locId === \"object\" && locId.length > 0) {\n\t\t\tif (!locIds.includes(this.getId(locId))) {\n\t\t\t\tconsole.log(\"Error: Invalid location path: \" + locId + \" given in genLocId.getParentId\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet path = locId;\n\t\t\treturn this._getAndCheckParentId(path);\n\t\t} else if (locId && typeof locId === \"string\") {\n\t\t\tif (!locIds.includes(locId)) {\n\t\t\t\tconsole.log(\"Error: Invalid locId: \" + locId + \" given in genLocId.getParentId\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet path = locId.split(\"_\");\n\t\t\treturn this._getAndCheckParentId(path);\n\t\t} else if (typeof locId !== \"object\" && typeof locId !== \"string\") {\n\t\t\tconsole.log(\"Error: Using genLocId.getParentId input type unrecognized\");\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn null; // Empty or a base. This behavior is okay\n\t\t}\n\t},\n\t_getChildrenHelper(locId) {\n\t\tlet sliceIdx = locId.length + 1;\n\t\tif (!locId) {\n\t\t\treturn locIds.filter(id => !id.includes(\"_\"));;\n\t\t}\n\t\tif (locIds.length > 0 && sliceIdx >= 0) {\n\t\t\treturn locIds.filter(id => id.startsWith(locId + \"_\") && !id.slice(sliceIdx).includes(\"_\"));;\n\t\t}\n\t},\n\tgetChildrenId(locId) {\n\t\tif (locId === null) {\n\t\t\tconsole.log(\"Critical Error: Tried to get the children of a null object in genLocId.getChildrenId.\");\n\t\t\treturn null;\n\t\t} else if (typeof locId === \"string\") {\n\t\t\tif ((!locIds.includes(locId) && locId)) {\n\t\t\t\tconsole.log(\"Invalid locId: \" + locId + \" given in genLocId.getChildrenId\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this._getChildrenHelper(locId);\n\t\t} else if (typeof locId === \"object\") {\n\t\t\tlet newLocId = this.getId(locId);\n\t\t\tif (newLocId && !locIds.includes(newLocId)) {\n\t\t\t\tconsole.log(\"Invalid location path: \" + locId + \" given in genLocId.getChildrenId\");\n\t\t\t\treturn null;\n\t\t\t} else if (newLocId === null) {\n\t\t\t\tconsole.log(\n\t\t\t\t\t\"Critical Error: Tried to get the children of a null object in genLocId.getChildrenId through path.\"\n\t\t\t\t);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this._getChildrenHelper(newLocId);\n\t\t}\n\t}\n};\n\nexport default LocId;\n","/**\n * LocBaseData.js by zhongz132@gmail.com\n *\n * Location for the base (no parent)\n */\n\nimport Location from \"./Location.js\";\nimport LocId from \"./LocIdGen.js\";\n\nvar LocBaseData = {};\n\nLocBaseData[LocId.genId([\"World\"])] = new Location({\n\torder: 0,\n\ttime: 10,\n\t//children: Object.keys(LocWorldData),\n\tname: \"Map\",\n\tabout: \"The map of the Frajen island.\"\n});\nLocBaseData[LocId.genId([\"Spar\"])] = new Location({\n\torder: 1,\n\ttime: 5,\n\tname: \"Spar\",\n\tabout: \"Practice against your opponent.\"\n});\nLocBaseData[LocId.genId([\"Battle\"])] = new Location({\n\torder: 2,\n\ttime: 10,\n\tname: \"Battle\",\n\tabout: \"Fight your opponent to the death.\"\n});\n\nfor (var key in LocBaseData) {\n\tLocBaseData[key] = LocBaseData[key].set(\"locId\", key)\n}\n\nexport default LocBaseData;\n","/**\n * LocWorldData.js by zhongz132@gmail.com\n *\n * Location for the world (parent = world)\n */\n\nimport LocId from \"./LocIdGen.js\";\nimport Location from \"./Location.js\";\n\nvar LocWorldData = {};\n\nLocWorldData[LocId.genId([\"World\", \"Lian\"])] = new Location({\n\torder: 10,\n\ttime: 0,\n\tname: \"Lian\",\n\tabout: \"A town bordering the ocean to the north. Currently under the jurisdiction of the Tareinan empire.\"\n});\nLocWorldData[LocId.genId([\"World\", \"ForestLian\"])] = new Location({\n\torder: 16,\n\ttime: 0,\n\tname: \"Woods\",\n\tabout: \"The woods just east of Lian.\"\n});\nLocWorldData[LocId.genId([\"World\", \"Road\"])] = new Location({\n\torder: 18,\n\ttime: 0,\n\tname: \"Road\",\n\tabout: \"The grand road connecting the cities and towns of the Tareinan empire.\"\n});\nLocWorldData[LocId.genId([\"World\", \"Marpen\"])] = new Location({\n\torder: 20,\n\ttime: 0,\n\tname: \"Marpen\",\n\tabout: \"The Tareinan city south-east of Lian, which connects to the capital, Tarein.\"\n});\nLocWorldData[LocId.genId([\"World\", \"Tarein\"])] = new Location({\n\torder: 30,\n\ttime: 0,\n\tname: \"Tarein\",\n\tabout: \"The capital city in the center of Frajen, Tarein.\"\n});\nLocWorldData[LocId.genId([\"World\", \"Pativeel\"])] = new Location({\n\torder: 61,\n\ttime: 0,\n\tname: \"Pativeel\",\n\tabout: \"An independent city south-west of Tarein, which borders the Kimal Forest\"\n});\n\nLocWorldData[LocId.genId([\"World\", \"ForestTarein\"])] = new Location({\n\torder: 51,\n\ttime: 0,\n\tname: \"Kimal Forest\",\n\tabout: \"The massive forest which occupies the entire southern portion of Frajen.\"\n});\n\nLocWorldData[LocId.genId([\"World\", \"Ending\"])] = new Location({\n\torder: 200,\n\ttime: 0,\n\tname: \"???\",\n\tabout: \"Where are you?\"\n});\n\nexport default LocWorldData;\n","/**\n * LocLianData.js by zhongz132@gmail.com\n *\n * Information about Lian (parent=Lian)\n */\n\nimport LocId from \"./LocIdGen.js\";\nimport Location from \"./Location.js\";\n\nvar LocLianData = {};\n\nLocLianData[LocId.genId([\"World\", \"Lian\", \"Home\"])] = new Location({\n\torder: 10,\n\tname: \"Home\",\n\tabout: \"Home sweet home.\",\n\tcharacters: [\"World_Lian_Home_Mom\", \"World_Lian_Home_Dad\"]\n});\n\n// Strength based locations\nLocLianData[LocId.genId([\"World\", \"Lian\", \"Dojo\"])] = new Location({\n\torder: 11,\n\tname: \"Dojo\",\n\tabout: \"A dojo in the town of Lian.\",\n\tcharacters: [\n\t\t\"World_Lian_Dojo_StudentAtk\",\n\t\t\"World_Lian_Dojo_StudentDef\",\n\t\t\"World_Lian_Dojo_StudentAgi\",\n\t\t\"World_Lian_Dojo_Teacher\"\n\t]\n});\n\n// Intelligence based locations\nLocLianData[LocId.genId([\"World\", \"Lian\", \"School\"])] = new Location({\n\torder: 12,\n\tname: \"School\",\n\tabout: \"A school in the town of Lian.\",\n\tcharacters: [\n\t\t\"World_Lian_School_StudentInf\",\n\t\t\"World_Lian_School_StudentInt\",\n\t\t\"World_Lian_School_Teacher\"\n\t]\n});\n\n// Charisma based locations\nLocLianData[LocId.genId([\"World\", \"Lian\", \"Hall\"])] = new Location({\n\torder: 13,\n\tname: \"Town Hall\",\n\tabout: \"The town hall of Lian.\",\n\tcharacters: [\n\t\t\"World_Lian_Hall_Messenger\",\n\t\t\"World_Lian_Hall_Guard\",\n\t\t\"World_Lian_Hall_Sheriff\",\n\t\t\"World_Lian_Hall_Chief\"\n\t]\n});\n\n// Gold based locations\nLocLianData[LocId.genId([\"World\", \"Lian\", \"Shop\"])] = new Location({\n\torder: 14,\n\tname: \"Shop\",\n\tabout: \"A shop in the town of Lian.\",\n\tcharacters: [\n\t\t\"World_Lian_Shop_Customer\",\n\t\t\"World_Lian_Shop_Storekeeper\"\n\t]\n});\n\n// City center and outside\nLocLianData[LocId.genId([\"World\", \"Lian\", \"Center\"])] = new Location({\n\torder: 15,\n\tname: \"Town Center\",\n\tabout: \"The town center of Lian.\",\n\tcharacters: [\n\t\t\"World_Lian_Center_CrazyOldMan\"\n\t]\n});\n\nexport default LocLianData;\n","/**\n * LocTareinData.js by zhongz132@gmail.com\n *\n * Location information for Tarein (parent=Tarein)\n */\n\nimport LocId from \"./LocIdGen.js\";\nimport Location from \"./Location.js\";\n\nvar LocTareinData = {}\n\n// Strength based locations\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Dojo\"])] = new Location({\n\torder: 31,\n\tname: \"Dojo\",\n\tabout: \"A dojo in Tarein.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Barracks\"])] = new Location({\n\torder: 32,\n\tvalidReq: [{ loc: [\"Lian_scene_str1\"] }, { loc: [\"Lian_scene_str2\"] }, { str: 220 }],\n\tname: \"Barracks\",\n\tabout: \"The barracks in Tarein.\",\n\thint: \"Increase strength or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Camp\"])] = new Location({\n\torder: 33,\n\tname: \"Army Camp\",\n\tabout: \"The base army camp in Tarein.\",\n\thint: \"Increase strength or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Assasin\"])] = new Location({\n\torder: 34,\n\tname: \"Assasin's Guild\",\n\tabout: \"The assasin's guild in Tarein. Hire assasins, take missions, or train skills.\"\n});\n\n// Intelligence based locations\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"School\"])] = new Location({\n\torder: 35,\n\tname: \"School\",\n\tabout: \"A school in Tarein.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Uni\"])] = new Location({\n\torder: 36,\n\tvalidReq: [{ loc: [\"Lian_scene_int1\"] }, { loc: [\"Lian_scene_int2\"] }, { int: 220 }],\n\tname: \"University\",\n\tabout: \"The university in Tarein.\",\n\thint: \"Increase intelligence or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Hospital\"])] = new Location({\n\torder: 37,\n\tname: \"Hospital\",\n\tabout: \"The hospital in Tarein. Learn to heal and the basics of human anatomy.\",\n\thint: \"Increase intelligence or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Lab\"])] = new Location({\n\torder: 38,\n\tname: \"Lab\",\n\tabout: \"The underground lab in Tarein. Delves in miltary science, human experimentation, and others.\"\n});\n\n// Charisma based locations\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Hall\"])] = new Location({\n\torder: 39,\n\tname: \"City Hall\",\n\tabout: \"The city hall of Tarein.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Court\"])] = new Location({\n\torder: 40,\n\tvalidReq: [{ loc: [\"Lian_scene_cha1\"] }, { loc: [\"Lian_scene_cha2\"] }, { cha: 220 }],\n\tname: \"Courthouse\",\n\tabout: \"The courhouse in Tarein\",\n\thint: \"Increase charisma or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Palace\"])] = new Location({\n\torder: 41,\n\tname: \"Palace\",\n\tvalidReq: null, //TODO\n\tabout: \"The palace of Ysvan Tarein, the lord of Tarein.\",\n\thint: \"Increase charsima or influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Society\"])] = new Location({\n\torder: 42,\n\tvalidReq: null, //TODO\n\tname: \"Secret Society\",\n\tabout: \"The underground secret society of Tarein.\"\n});\n\n// Gold based locations\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Shop\"])] = new Location({\n\torder: 43,\n\tname: \"Shop\",\n\tabout: \"A shop in Tarein\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Auction\"])] = new Location({\n\torder: 44,\n\tname: \"Auction House\",\n\tvalidReq: [{ loc: [\"Lian_scene_gold2\"] }, { gold: 1000 }],\n\tabout: \"The auction house in Tarein.\",\n\thint: \"Pay or increase influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Merchant\"])] = new Location({\n\torder: 45,\n\tname: \"Merchant Guild\",\n\tabout: \"The merchants guild in Tarein.\",\n\thint: \"Pay or increase influence to unlock. Can also unlock through scenarios.\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"BlackMarket\"])] = new Location({\n\torder: 46,\n\tname: \"Black Market\",\n\tabout: \"The black market in Tarein.\"\n});\n\n// City center and outside\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"Center\"])] = new Location({\n\torder: 50,\n\tname: \"City Center\",\n\tabout: \"The city center of Tarein.\"\n});\n\n// Tarein Scenarios\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"scene-str0\"])] = new Location({\n\torder: 201,\n\tvalidReq: [{ curMonth: 1, loc: [\"World_Tarein\"] }],\n\tname: \"Fighting Competition\",\n\tabout: \"The city is hosting its annual fighting competition.\",\n\thint: \"Begins the first month of the year\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"scene-int0\"])] = new Location({\n\torder: 202,\n\tvalidReq: [{ curMonth: 5, loc: [\"World_Tarein\"] }],\n\tname: \"Research Conference\",\n\tabout: \"The city is hosting its annual research conference.\",\n\thint: \"Begins the fifth month of the year\"\n});\nLocTareinData[LocId.genId([\"World\", \"Tarein\", \"scene-cha0\"])] = new Location({\n\torder: 203,\n\tvalidReq: [{ curMonth: 10, loc: [\"World_Tarein\"] }],\n\tname: \"Political Debate\",\n\tabout: \"The city is hosting its annual political debate.\",\n\thint: \"Begins the tenth month of the year\"\n});\n\nexport default LocTareinData;\n","/**\n * LocationData.js by zhongz132@gmail.com\n *\n * All Location information for the game.\n */\n\nimport Immutable from \"immutable\";\nimport LocBaseData from \"./LocBaseData.js\";\nimport LocWorldData from \"./LocWorldData.js\";\nimport LocLianData from \"./LocLianData.js\";\nimport LocTareinData from \"./LocTareinData.js\";\nimport LocId from \"./LocIdGen.js\";\n\nfunction setVals(locDict) {\n\tfor (var key in locDict) {\n\t\tlocDict[key] = locDict[key]\n\t\t\t.set(\"children\", LocId.getChildrenId(key))\n\t\t\t.set(\"locId\", key)\n\t\t\t.set(\"parent\", LocId.getParentId(key));\n\t}\n}\n\nsetVals(LocBaseData);\nsetVals(LocWorldData);\nsetVals(LocLianData);\nsetVals(LocTareinData);\n\nconst LocationData = Immutable.Record({ ...LocBaseData, ...LocWorldData, ...LocLianData, ...LocTareinData });\n\nexport default LocationData;\n","/**\n * Character.js by zhongz132@gmail.com\n *\n * Declaration of character element in the game\n */\n\nimport Immutable from \"immutable\";\n\nconst Character = Immutable.Record({\n\tcharId: \"\", // Character Id, CRITICAL WARNING UNIQUE!\n\n\tname: \"BaseChar\", // Name of the character\n\tabout: \"BaseAbout\", // Description of the chracter\n\n\ttalk: [], // the dialogs which appear when the player talks with the character\n\tinteract: {}, // ways to interact\n\n\tcst: 100, // Constitution (HP)\n\tatk: 100, // Attack (ATK Power)\n\tdef: 100, // Defense (DEF Power)\n\tagi: 100, // Agility (Speed)\n\tint: 100, // Intelligence (Special)\n\tpassive: [],\n\tskill: [],\n\tlogic: \"\",\n\n\tinf: 0, // influence of the character\n\n\tvalidReq: [], // availbility requirements\n\n\tdoneReq: []\n});\n\nexport default Character;\n","/**\n * SkillNames.js by zhongz132@gmail.com\n *\n * Names of all the skills\n */\n\nconst SkillNames = {\n\tPAS_FATED: \"PAS_FATED\",\n\n\tPAS_UNDYING: \"PAS_UNDYING\",\n\n\tPAS_WOLF: \"PAS_WOLF\",\n\tPAS_BEAR: \"PAS_BEAR\",\n\tPAS_DRAGON: \"PAS_DRAGON\",\n\n\tPAS_SPEARMAN: \"PAS_SPEARMAN\",\n\tPAS_WARRIOR: \"PAS_WARRIOR\",\n\tPAS_BERSERKER: \"PAS_BERSERKER\",\n\n\tPAS_INFANTRY: \"PAS_INFANTRY\",\n\tPAS_SOLDIER: \"PAS_SOLDIER\",\n\tPAS_KNIGHT: \"PAS_KNIGHT\",\n\n\tPAS_THIEF: \"PAS_THIEF\",\n\tPAS_ROGUE: \"PAS_ROGUE\",\n\tPAS_ASSASSAIN: \"PAS_ASSASSAIN\",\n\n\tPAS_MESSENGER: \"PAS_MESSENGER\",\n\tPAS_ANALYST: \"PAS_ANALYST\",\n\tPAS_TACTICIAN: \"PAS_TACTICIAN\",\n\n\tATK_BASIC: \"ATK_BASIC\",\n\tATK_DSTAB: \"ATK_DSTAB\",\n\tATK_SMASH: \"ATK_SMASH\",\n\tATK_CHARGE: \"ATK_CHARGE\",\n\tATK_FINALBREATH: \"ATK_FINALBREATH\",\n\n\tDEF_BASIC: \"DEF_BASIC\",\n\tDEF_PARRY: \"DEF_PARRY\",\n\tDEF_BLOCK: \"DEF_BLOCK\",\n\tDEF_DODGE: \"DEF_DODGE\",\n\tDEF_COUNTER: \"DEF_COUNTER\",\n\n\tAGI_BASIC: \"AGI_BASIC\",\n\tAGI_BACKSTAB: \"AGI_BACKSTAB\",\n\tAGI_QUICKSTRIKE: \"AGI_QUICKSTRIKE\",\n\tAGI_EVISCERATE: \"AGI_EVISCERATE\",\n\tAGI_ASSASSINATE: \"AGI_ASSASSINATE\",\n\n\tSPE_ESCAPE: \"SPE_ESCAPE\",\n\tSPE_WAIT: \"SPE_WAIT\",\n\tSPE_CHARGEUP: \"SPE_CHARGEUP\",\n\tSPE_EXAMINE: \"SPE_EXAMINE\",\n\tSPE_BERSERK: \"SPE_BERSERK\",\n\tSPE_BANDAGE: \"SPE_BANDAGE\",\n\tSPE_HEAL: \"SPE_HEAL\",\n\n\tSTUNNED: \"STUNNED\"\n};\n\nSkillNames[\"BASIC\"] = [\"ATK_BASIC\", \"DEF_BASIC\", \"AGI_BASIC\", \"SPE_ESCAPE\"];\nSkillNames[\"WARRIOR\"] = SkillNames.BASIC.concat([\"ATK_DSTAB\", \"ATK_SMASH\", \"SPE_CHARGEUP\"]);\nSkillNames[\"SOLDIER\"] = SkillNames.BASIC.concat([\"DEF_PARRY\", \"DEF_BLOCK\", \"SPE_BANDAGE\"]);\nSkillNames[\"ROGUE\"] = SkillNames.BASIC.concat([\"AGI_BACKSTAB\", \"AGI_QUICKSTRIKE\", \"SPE_WAIT\"]);\nSkillNames[\"ALL_INT\"] = SkillNames.BASIC.concat([\n\t\"ATK_DSTAB\",\n\t\"ATK_SMASH\",\n\t\"DEF_PARRY\",\n\t\"DEF_BLOCK\",\n\t\"AGI_BACKSTAB\",\n\t\"AGI_QUICKSTRIKE\",\n\t\"SPE_CHARGEUP\",\n\t\"SPE_BANDAGE\",\n\t\"SPE_WAIT\"\n]);\nSkillNames[\"BERSERKER\"] = SkillNames.WARRIOR.concat([\"ATK_CHARGE\", \"ATK_FINALBREATH\", \"SPE_BERSERK\"]);\nSkillNames[\"KNIGHT\"] = SkillNames.SOLDIER.concat([\"DEF_DODGE\", \"DEF_COUNTER\", \"SPE_HEAL\"]);\nSkillNames[\"ASSASSAIN\"] = SkillNames.ROGUE.concat([\"AGI_EVISCERATE\", \"AGI_ASSASSINATE\", \"SPE_EXAMINE\"]);\nSkillNames[\"ALL_ADV\"] = SkillNames.ALL_INT.concat([\n\t\"ATK_CHARGE\",\n\t\"ATK_FINALBREATH\",\n\t\"DEF_DODGE\",\n\t\"DEF_COUNTER\",\n\t\"AGI_EVISCERATE\",\n\t\"AGI_ASSASSINATE\",\n\t\"SPE_BERSERK\",\n\t\"SPE_HEAL\",\n\t\"SPE_EXAMINE\"\n]);\n\nexport default SkillNames;\n","/**\n * CombatLogicNames.js by zhongz132@gmail.com\n *\n * Names of all the combat logic\n */\n\nconst CombatLogicNames = {\n\tBASIC: \"BASIC\",\n\tINTERMEDIATE: \"INTERMEDIATE\",\n\tADVANCED: \"ADVANCED\",\n\tPREDICT: \"PREDICT\",\n\n\tWARRIOR: \"WARRIOR\",\n\tBERSERKER: \"BERSERKER\",\n\n\tSOLDIER: \"SOLDIER\",\n\tKNIGHT: \"KNIGHT\",\n\n\tROGUE: \"ROGUE\",\n\tASSASSAIN: \"ASSASSAIN\",\n};\n\nexport default CombatLogicNames;\n","/**\n * CharLianData.js by zhongz132@gmail.com\n *\n * Stores the data for the characters in Lian\n */\n\n//import Immutable from \"immutable\";\nimport Character from \"./Character.js\";\nimport SkillNames from \"./../Skills/SkillNames.js\";\nimport CombatLogicNames from \"./../CombatLogic/CombatLogicNames.js\";\n\nvar _town = \"World_Lian_\";\nvar _home = _town + \"Home_\";\nvar _dojo = _town + \"Dojo_\";\nvar _school = _town + \"School_\";\nvar _hall = _town + \"Hall_\";\nvar _shop = _town + \"Shop_\";\nvar _center = _town + \"Center_\";\n\nconst CharLianData = {};\n\n// Home\nCharLianData[_home + \"Mom\"] = new Character({\n\tname: \"Mom\",\n\tabout: \"Teaches at the local elementary school. Gives new meaning to the phrase 'Unconditional love'.\",\n\tagi: 115,\n\tint: 450,\n\tinf: 250,\n\ttalk: [\n\t\t{\n\t\t\tquestion: \"Who are you?\",\n\t\t\tanswer: \"Oh dear, it seems you've gone blind. You can't even recognize your own mother.\"\n\t\t},\n\t\t{\n\t\t\tquestion: \"Do you need help?\",\n\t\t\tanswer: \"That's kind of you dear, but just focus on studying and training, and stay safe.\"\n\t\t},\n\t\t{ question: \"Can you tell me a story?\", answer: \"A long time ago, \" }\n\t]\n});\n\nCharLianData[_home + \"Dad\"] = new Character({\n\tname: \"Dad\",\n\tabout: \"Used to be a warrior. Jolly and kind, but his mood seems to sour in the 10th month.\",\n\tcst: 350,\n\tatk: 425,\n\tdef: 250,\n\tagi: 325,\n\tint: 250,\n\tinf: 550,\n\tpassive: [SkillNames.PAS_BEAR, SkillNames.PAS_WARRIOR, SkillNames.PAS_ROGUE, SkillNames.PAS_TACTICIAN],\n\tskill: [SkillNames.WARRIOR, SkillNames.ROGUE],\n\tlogic: CombatLogicNames.WARRIOR,\n\ttalk: [\n\t\t{ question: \"Who are you?\", answer: \"Get back to work before I knock you on your head again.\" },\n\t\t{\n\t\t\tquestion: \"Do you need help?\",\n\t\t\tanswer: \"Haha, when you're stronger.\",\n\t\t\tdone: \"You've done all I ever wanted.\"\n\t\t},\n\t\t{ question: \"Can you tell me a story?\", answer: \"I \" }\n\t],\n\tinteract: {\n\t\tspar: { cost: 4, reward: { inf: 15, cst: 10, atk: 20, def: 5, agi: 10 } },\n\t\tquest: {\n\t\t\tabout:\n\t\t\t\t\"Years ago I wounded a beast called Yeoron. He eventually healed,\\nand when I was fighting elsewhere, slew my brothers. I was injured trying to avenge them.\\nKill Yeoron for me. He should be in the forest just outside of Tarein.\",\n\t\t\tvalidReq: [{ spar: [_home + \"Dad\"] }],\n\t\t\tdoneReq: [{ dead: [\"World_ForestTarein_Yeoron\"] }],\n\t\t\treward: { inf: 150, rep: 25, item: \"Cagnil\" }\n\t\t}\n\t},\n\tdoneReq: [{ quest: [_home + \"Dad\"] }]\n});\n\n// Dojo\nCharLianData[_dojo + \"StudentAtk\"] = new Character({\n\tname: \"Sword Student\",\n\tabout: \"A student who specializes in attack studying under Gordon.\",\n\tcst: 105,\n\tatk: 125,\n\tint: 90,\n\tpassive: [SkillNames.PAS_SPEARMAN],\n\tskill: [SkillNames.BASIC, SkillNames.ATK_DSTAB],\n\tlogic: CombatLogicNames.BASIC,\n\ttalk: [\n\t\t{ question: \"What are you doing?\", answer: \"Learning the way of the spear, the strongest offense.\" },\n\t\t{\n\t\t\tquestion: \"What's attack good for?\",\n\t\t\tanswer: \"Damage! Your attacks hurt more and might break through defense!\"\n\t\t}\n\t],\n\tinteract: {\n\t\tspar: { time: 2, reward: { inf: 2, atk: 10 } },\n\t\ttrain: { stat: \"atk\", multiplier: 1.0, time: 10 }\n\t},\n\tdoneReq: [{ spar: [_dojo + \"StudentAtk\"] }]\n});\n\nCharLianData[_dojo + \"StudentDef\"] = new Character({\n\tname: \"Shield Student\",\n\tabout: \"A student who specializes in defense studying under Gordon.\",\n\tcst: 120,\n\tdef: 125,\n\tagi: 90,\n\tint: 90,\n\tpassive: [SkillNames.PAS_INFANTRY],\n\tskill: [SkillNames.BASIC, SkillNames.DEF_PARRY],\n\tlogic: CombatLogicNames.BASIC,\n\ttalk: [\n\t\t{ question: \"What are you doing?\", answer: \"Learning the way of the sword and shield, the strongest defense.\" },\n\t\t{\n\t\t\tquestion: \"What's defense good against?\",\n\t\t\tanswer: \"You take less damage and block fast, sneaky attacks better!\"\n\t\t}\n\t],\n\tinteract: {\n\t\tspar: { time: 2, reward: { inf: 2, def: 10 } },\n\t\ttrain: { stat: \"def\", multiplier: 1.0, time: 10 }\n\t},\n\tdoneReq: [{ spar: [_dojo + \"StudentDef\"] }]\n});\n\nCharLianData[_dojo + \"StudentAgi\"] = new Character({\n\tname: \"Dagger Student\",\n\tabout: \"A student who specializes in agility studying under Gordon.\",\n\tatk: 105,\n\tdef: 80,\n\tagi: 125,\n\tpassive: [SkillNames.PAS_THIEF],\n\tskill: [SkillNames.BASIC, SkillNames.AGI_BACKSTAB],\n\tlogic: CombatLogicNames.BASIC,\n\ttalk: [\n\t\t{ question: \"What are you doing?\", answer: \"Learning the way of the dagger, the quickest offense.\" },\n\t\t{\n\t\t\tquestion: \"What's agility good for?\",\n\t\t\tanswer: \"You can choose when to attack, and attack fast before someone can hit you back!\"\n\t\t}\n\t],\n\tinteract: {\n\t\tspar: { time: 2, reward: { inf: 2, agi: 10 } },\n\t\ttrain: { stat: \"agi\", multiplier: 1.0, time: 10 }\n\t},\n\tdoneReq: [{ spar: [_dojo + \"StudentAgi\"] }]\n});\n\nCharLianData[_dojo + \"Teacher\"] = new Character({\n\tname: \"Gordon\",\n\tabout: \"A kind, old retired soldier from Tarein. The head instructor of the dojo.\",\n\tcst: 180,\n\tatk: 175,\n\tdef: 250,\n\tagi: 165,\n\tint: 150,\n\tinf: 80,\n\tpassive: [SkillNames.PAS_SPEARMAN, SkillNames.PAS_SOLDIER],\n\tskill: [SkillNames.SOLDIER, SkillNames.ATK_DSTAB, SkillNames.AGI_BACKSTAB],\n\tlogic: CombatLogicNames.SOLDIER,\n\ttalk: [\n\t\t{\n\t\t\tquestion: \"What are you doing?\",\n\t\t\tanswer: \"Training my body. Only when your body is strong, can you take more hits in combat.\"\n\t\t},\n\t\t{\n\t\t\tquestion: \"Can you teach me how to parry an attack\",\n\t\t\tanswer: \"Increase your defense first.\",\n\t\t\tdone: \"I've already taught you.\"\n\t\t}\n\t],\n\tinteract: {\n\t\tspar: { time: 3, reward: { inf: 10, cst: 20, passive: SkillNames.PAS_INFANTRY } },\n\t\ttrain: { stat: \"cst\", multiplier: 1.0, time: 10 },\n\t\tteachSkill: { skillId: SkillNames.DEF_PARRY, validReq: [{ def: 130 }], time: 25 },\n\t\tquest: {\n\t\t\tabout: \"Go and beat my students.\",\n\t\t\tvalidReq: [{ atk: 100, def: 100, agi: 100 }],\n\t\t\tdoneReq: [{ spar: [_dojo + \"StudentAtk\", _dojo + \"StudentDef\", _dojo + \"StudentAgi\"] }],\n\t\t\treward: { inf: 1, atk: 10, def: 10, skill: SkillNames.ATK_DSTAB },\n\t\t\tdoneText: \"Use your new skill wisely. Go see Giqral in school to learn some agility skills.\"\n\t\t}\n\t},\n\tdoneReq: [{ skill: [SkillNames.DEF_PARRY] }]\n});\n\n// School\nCharLianData[_school + \"StudentInf\"] = new Character({\n\tname: \"Political Student\",\n\tabout: \"A student who is studying politics under Giqral.\",\n\tint: 125,\n\ttalk: [\n\t\t{ question: \"How can I increase my influence?\", answer: \"Help other people! Defeat others in combat.\" },\n\t\t{\n\t\t\tquestion: \"Can you introduce me to the town chief?\",\n\t\t\tanswer: \"When your influence is higher.\",\n\t\t\tdone: \"I already have!\"\n\t\t}\n\t],\n\tinteract: {\n\t\tquest: {\n\t\t\tabout: \"Convince Giqral to give you a copy of the book 'The History of Tarein'. \",\n\t\t\tvalidReq: [{}],\n\t\t\tdoneReq: [{ item: [\"Book_History_Tarein\"] }],\n\t\t\treward: { inf: 5, int: 10 },\n\t\t\ttake: { item: [\"Book_History_Tarein\"] },\n\t\t\tdoneText: \"Okay, I'll introduce you to Toraq. You can find him in the town hall.\"\n\t\t}\n\t},\n\tdoneReq: [{ quest: [_school + \"StudentInf\"] }]\n});\n\nCharLianData[_school + \"StudentInt\"] = new Character({\n\tname: \"Tactics Student\",\n\tabout: \"A student who is studying combat tactics under Giqral.\",\n\tcst: 110,\n\tatk: 110,\n\tdef: 110,\n\tagi: 115,\n\tint: 135,\n\ttalk: [\n\t\t{ question: \"What are you doing?\", answer: \"Studying battlefield tactics.\" },\n\t\t{\n\t\t\tquestion: \"How do I defeat my opponents?\",\n\t\t\tanswer: \"There are a lot of ways, but you should always observe them.\"\n\t\t},\n\t\t{\n\t\t\tquestion: \"Can you teach me how?\",\n\t\t\tanswer: \"Maybe when your intelligence is higher.\",\n\t\t\tdone: \"I already taught you all I know.\"\n\t\t}\n\t],\n\tinteract: {\n\t\ttrain: { stat: \"int\", multiplier: 1.0, time: 10 },\n\t\tteachSkill: { skillId: SkillNames.SPE_WAIT, validReq: [{ int: 120 }], time: 10 }\n\t},\n\tdoneReq: [{ skill: [SkillNames.SPE_WAIT] }]\n});\n\nCharLianData[_school + \"Teacher\"] = new Character({\n\tname: \"Giqral\",\n\tabout: \"An old rogue. Old friends with Gordon. The head teacher of the school.\",\n\tcst: 120,\n\tatk: 170,\n\tagi: 250,\n\tdef: 150,\n\tint: 250,\n\tinf: 100,\n\ttalk: [\n\t\t{\n\t\t\tquestion: \"Why do they call you a rogue\",\n\t\t\tanswer: \"Wouldn't you like to know?\"\n\t\t},\n\t\t{\n\t\t\tquestion: \"Can you teach me how to use the dagger?\",\n\t\t\tanswer: \"Sure, if you beat Gordon afterwards.\",\n\t\t\tdone: \"Hehehehee, that was great.\"\n\t\t},\n\t\t{\n\t\t\tquestion: \"Do you need help?\",\n\t\t\tanswer: \"The old man Gordon is annoying. Go defeat him in a spar for me and I'll give you this old book.\",\n\t\t\tdone: \"Haha, not anymore. It was great seeing Gordon's face when he lost.\"\n\t\t}\n\t],\n\tinteract: {\n\t\tteachSkill: {\n\t\t\tskillId: SkillNames.AGI_BACKSTAB,\n\t\t\tvalidReq: [{}],\n\t\t\ttime: 25\n\t\t},\n\t\tquest: {\n\t\t\tabout: \"Go and beat Gordon in a spar.\",\n\t\t\tvalidReq: [{}],\n\t\t\tdoneReq: [{ spar: [_dojo + \"Teacher\"] }],\n\t\t\treward: {\n\t\t\t\tinf: 10,\n\t\t\t\tagi: 10,\n\t\t\t\titem: \"Book_History_Tarein\"\n\t\t\t},\n\t\t\tdoneText: \"Hehe, that was fun.\"\n\t\t}\n\t},\n\tvalidReq: [{ quest: [_dojo + \"Teacher\"] }],\n\tdoneReq: [{ quest: [_school + \"Teacher\"] }]\n});\n\n// Hall\nCharLianData[_hall + \"Messenger\"] = new Character({\n\tname: \"Messenger\",\n\tabout: \"The local messenger.\",\n\tcst: 140,\n\tagi: 120,\n\tint: 150,\n\tinf: 30\n});\n\nCharLianData[_hall + \"Guard\"] = new Character({\n\tname: \"Guard\",\n\tabout: \"A skilled infantryman who served under the town sheriff. The town guard.\",\n\tcst: 200,\n\tatk: 150,\n\tdef: 210,\n\tagi: 150,\n\tint: 125,\n\tinf: 90,\n\tpassive: [SkillNames.PAS_WOLF, SkillNames.PAS_INFANTRY],\n\tskill: [SkillNames.BASIC, SkillNames.ATK_DSTAB, SkillNames.DEF_PARRY],\n\tlogic: CombatLogicNames.BASIC,\n\ttalk: [{ question: \"Hi\", answer: \"Blah\" }],\n\tinteract: {\n\t\tspar: { time: 2, reward: { inf: 10, def: 20 } }\n\t},\n\tdoneReq: [{ spar: [_hall + \"Guard\"] }]\n});\n\nCharLianData[_hall + \"Sheriff\"] = new Character({\n\tname: \"Sheriff\",\n\tabout: \"A soldier who served under the town chief, Toraq. The town sheriff.\",\n\tcst: 400,\n\tatk: 250,\n\tdef: 400,\n\tagi: 225,\n\tint: 225,\n\tinf: 300,\n\tpassive: [SkillNames.PAS_WOLF, SkillNames.PAS_SOLDIER, SkillNames.PAS_MESSENGER],\n\tskill: [SkillNames.SOLDIER],\n\tlogic: CombatLogicNames.SOLDIER,\n\ttalk: [{ question: \"Hi\", answer: \"Hi\" }],\n\tinteract: {\n\t\ttrain: { stat: \"def\", multiplier: 1.1, time: 11 },\n\t\tspar: { time: 4, reward: { inf: 20, def: 30 } }\n\t},\n\tvalidReq: [{ char: [_hall + \"Guard\"] }],\n\tdoneReq: [{ spar: [_hall + \"Sheriff\"], quest: [_hall + \"Sheriff\"] }]\n});\n\nCharLianData[_hall + \"Chief\"] = new Character({\n\tname: \"Toraq\",\n\tabout: \"A retired knight. The chief of the town.\",\n\tcst: 950,\n\tatk: 750,\n\tdef: 950,\n\tagi: 550,\n\tint: 500,\n\tinf: 1500,\n\tpassive: [SkillNames.PAS_BEAR, SkillNames.PAS_WARRIOR, SkillNames.PAS_KNIGHT],\n\tskill: [SkillNames.KNIGHT],\n\tlogic: CombatLogicNames.KNIGHT,\n\ttalk: [{ question: \"Hi\", answer: \"Hi\" }],\n\tinteract: {\n\t\tspar: { time: 5, reward: { inf: 40, cst: 40, def: 40 } },\n\t\tquest: {\n\t\t\tabout: \"Promote the fame of Lian through yourself.\",\n\t\t\tvalidReq: [{ inf: 200 }],\n\t\t\tdoneReq: [{ inf: 1000 }],\n\t\t\treward: { inf: 10, rep: 2, int: 10, item: \"Letter_Boris\" },\n\t\t\tdoneText: \"Thank you. Take this letter to Boris in Tarein and he'll help you learn a new skill.\"\n\t\t}\n\t},\n\tvalidReq: [{ char: [_school + \"StudentInf\"] }],\n\tdoneReq: [{ spar: [_hall + \"Chief\"], quest: [_hall + \"Chief\"] }]\n});\n\n// Shop\nCharLianData[_shop + \"Customer\"] = new Character({\n\tname: \"Customer\",\n\tabout: \"It looks like he really wants something on the shelf.\"\n});\n\nCharLianData[_shop + \"Storekeeper\"] = new Character({\n\tname: \"Storekeeper\",\n\tabout: \"A retired merchant. Spends the remainder of his days tending his store.\"\n});\n\nCharLianData[_center + \"CrazyOldMan\"] = new Character({\n\tname: \"Crazy Old Man\",\n\tabout: \"An insane old man.\",\n\tcst: 10,\n\tdef: 20,\n\tagi: 10,\n\tint: 0,\n\ttalk: [\n\t\t{ question: \"Hi?\", answer: \"They're coming, they're coming.\" },\n\t\t{\n\t\t\tquestion: \"What's coming?\",\n\t\t\tanswer: \"It's red, red, red, red.\",\n\t\t\tdone: \"The eyes, they're red. Red. Red. RED.\"\n\t\t}\n\t],\n\tdoneReq: [{ int: 1200 }]\n});\n\nexport default CharLianData;\n","/**\n * CharacterData.js by zhongz132@gmail.com\n *\n * Character information for the game\n */\n\nimport Immutable from \"immutable\";\nimport CharLianData from \"./CharLianData.js\";\n\nconst CharacterData = Immutable.Record({...CharLianData})\n\nexport default CharacterData;\n","/**\n * Passive.js by zhongz132@gmail.com\n *\n * Declaration of passive skill element in the game\n */\n\nimport Immutable from \"immutable\";\n\nconst Passive = Immutable.Record({\n\tname: \"\",\n\tabout: \"\",\n\ttype: \"\",\n\tlevel: 0,\n\tbonus: {}\n});\n\nexport default Passive;","/**\n * SkillAgi.js by zhongz132@gmail.com\n *\n * All passive skills information for the game\n */\n\nimport Passive from \"./Passive.js\";\nimport SkillNames from \"./SkillNames.js\";\n\nvar SkillPassive = {};\n\nSkillPassive[SkillNames.PAS_FATED] = new Passive({\n\tname: \"Fated\",\n\tabout: \"You have been declared a fated one.\",\n\ttype: \"SPE\"\n});\n\nSkillPassive[SkillNames.PAS_UNDYING] = new Passive({\n\tname: \"Undying\",\n\tabout: \"You are undying.\",\n\ttype: \"SPE\"\n});\n\nSkillPassive[SkillNames.PAS_WOLF] = new Passive({\n\tname: \"Wolf\",\n\tabout: \"Bark? Awoooo!\",\n\ttype: \"CST\",\n\tlevel: 0,\n\tbonus: { cst: 0.05, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_BEAR] = new Passive({\n\tname: \"Bear\",\n\tabout: \"Bearlike.\",\n\ttype: \"CST\",\n\tlevel: 1,\n\tbonus: { cst: 0.1, def: 0.05, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_DRAGON] = new Passive({\n\tname: \"Dragon\",\n\tabout: \"Dragon's blood flows through your veins.\",\n\ttype: \"CST\",\n\tlevel: 2,\n\tbonus: { cst: 0.2, def: 0.1, atk: 0.05, energy: 10 }\n});\n\nSkillPassive[SkillNames.PAS_SPEARMAN] = new Passive({\n\tname: \"Spearman\",\n\tabout: \"A starting spearman.\",\n\ttype: \"ATK\",\n\tlevel: 0,\n\tbonus: { atk: 0.05, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_WARRIOR] = new Passive({\n\tname: \"Warrior\",\n\tabout: \"A great warrior.\",\n\ttype: \"ATK\",\n\tlevel: 1,\n\tbonus: { atk: 0.1, agi: 0.05, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_BERSERKER] = new Passive({\n\tname: \"Berserker\",\n\tabout: \"RRAAAGGGHHHH\",\n\ttype: \"ATK\",\n\tlevel: 2,\n\tbonus: { atk: 0.2, agi: 0.1, def: 0.05, energy: 10 }\n});\n\nSkillPassive[SkillNames.PAS_INFANTRY] = new Passive({\n\tname: \"Infantry\",\n\tabout: \"Attention!\",\n\ttype: \"DEF\",\n\tlevel: 0,\n\tbonus: { def: 0.05, cst: 0.025 }\n});\n\nSkillPassive[SkillNames.PAS_SOLDIER] = new Passive({\n\tname: \"Soldier\",\n\tabout: \"A loyal, unwavering soldier.\",\n\ttype: \"DEF\",\n\tlevel: 1,\n\tbonus: { def: 0.1, cst: 0.05, atk: 0.025 }\n});\n\nSkillPassive[SkillNames.PAS_KNIGHT] = new Passive({\n\tname: \"Knight\",\n\tabout: \"Oh, glorious knight.\",\n\ttype: \"DEF\",\n\tlevel: 2,\n\tbonus: { def: 0.2, cst: 0.1, atk: 0.1, agi: 0.05 }\n});\n\nSkillPassive[SkillNames.PAS_THIEF] = new Passive({\n\tname: \"Thief\",\n\tabout: \"A theif and nothing more.\",\n\ttype: \"AGI\",\n\tlevel: 0,\n\tbonus: { agi: 0.05, int: 0.025 }\n});\n\nSkillPassive[SkillNames.PAS_ROGUE] = new Passive({\n\tname: \"Rogue\",\n\tabout: \"Better, but still a rogue.\",\n\ttype: \"AGI\",\n\tlevel: 1,\n\tbonus: { agi: 0.1, int: 0.05, atk: 0.025 }\n});\n\nSkillPassive[SkillNames.PAS_ASSASSAIN] = new Passive({\n\tname: \"Assassain\",\n\tabout: \"Nobels tremble at your name.\",\n\ttype: \"AGI\",\n\tlevel: 2,\n\tbonus: { agi: 0.2, int: 0.1, atk: 0.1, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_MESSENGER] = new Passive({\n\tname: \"Messenger\",\n\tabout: \"Quickly now.\",\n\ttype: \"INT\",\n\tlevel: 0,\n\tbonus: { int: 0.05, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_ANALYST] = new Passive({\n\tname: \"ANALYST\",\n\tabout: \"I wonder...\",\n\ttype: \"INT\",\n\tlevel: 1,\n\tbonus: { int: 0.1, energy: 5 }\n});\n\nSkillPassive[SkillNames.PAS_TACTICIAN] = new Passive({\n\tname: \"Tactician\",\n\tabout: \"I know.\",\n\ttype: \"INT\",\n\tlevel: 2,\n\tbonus: { int: 0.2, energy: 5, status: \"Focused\"}\n});\n\nexport default SkillPassive;\n","/**\n * Skill.js by zhongz132@gmail.com\n *\n * Declaration of active skill element in the game\n */\n\nimport Immutable from \"immutable\";\n\nconst Skill = Immutable.Record({\n\tname: \"\", // Name of the skill\n\ttype: \"\", // Type: ATK, DEF, AGI, SPE (special)\n\tabout: \"\",\n\tenergy: 0, // Energy required to use\n\tbonus: {}, // Bonus stats/effects the attack has\n\n\tonFail: {},\n\tonSuccess: {},\n});\n\nexport default Skill;","/**\n * SkillData.js by zhongz132@gmail.com\n *\n * All attack skills information for the game\n */\n\nimport Skill from \"./Skill.js\"\nimport SkillNames from \"./SkillNames.js\";\n\nvar SkillAtk = {};\n\nSkillAtk[SkillNames.ATK_BASIC] = new Skill({\n\tname: \"Attack\",\n\ttype: \"ATK\",\n\tabout: \"Strike with your main hand weapon.\",\n\tbonus: { atk: 1.5, def: 0.8, agi: 0.75, int: 0.2 },\n\n\tonFail: { text: \"Your attack fails.\" },\n\tonSuccess: { text: \"You attack succeeds.\", dmg: 0.2 }\n});\n\nSkillAtk[SkillNames.ATK_DSTAB] = new Skill({\n\tname: \"Double Stab\",\n\ttype: \"ATK\",\n\tabout: \"Stabs twice quickly.\",\n\tenergy: 20,\n\tbonus: { atk: 1.6, def: 0.8, agi: 1.1, int: 0.6 },\n\n\tonFail: { text: \"Your stab fails.\" },\n\tonSuccess: { text: \"You stab your opponent twice and gain 5 energy.\", dmg: 0.5, energy: 5, status: [\"Bleeding\"] }\n});\n\nSkillAtk[SkillNames.ATK_SMASH] = new Skill({\n\tname: \"Smash\",\n\ttype: \"ATK\",\n\tabout: \"Smashes your opponent with your weapon.\",\n\tenergy: 30,\n\tbonus: { atk: 6.0, def: 0.5, agi: 0.4, int: 0.4 },\n\n\tonFail: { text: \"Your smash fails.\" },\n\tonSuccess: { text: \"You smash and stun your opponenet.\", dmg: 0.2, energy: 5, status: [\"Stunned\"] }\n});\n\nSkillAtk[SkillNames.ATK_CHARGE] = new Skill({\n\tname: \"Charge\",\n\ttype: \"ATK\",\n\tabout: \"Charges your opponent.\",\n\tenergy: 55,\n\tbonus: { atk: 3.0, def: 0.9, agi: 2.4, int: 0.5 },\n\n\tonFail: { text: \"Your charge fails.\" },\n\tonSuccess: { text: \"Your charge succeeds.\", dmg: 0.3, energy: 10, status: [\"Stunned\"] }\n});\n\nSkillAtk[SkillNames.ATK_FINALBREATH] = new Skill({\n\tname: \"Final Breath\",\n\ttype: \"ATK\",\n\tabout: \"Strike your opponent with all you have.\",\n\tenergy: 100,\n\tbonus: { atk: 6.0, def: 0.3, agi: 2.0, int: 0.6 },\n\n\tonFail: { text: \"Your strike fails.\", selfstatus: [\"Stunned\"], status: [\"Focused\"] },\n\tonSuccess: {\n\t\ttext: \"Your strike destroy your target and instills fear.\",\n\t\tdmg: 0.4,\n\t\tenergy: 20,\n\t\tselfstatus: [\"Berserk\"],\n\t\tstatus: [\"Stunned\", \"Bleeding\"]\n\t}\n});\n\nexport default SkillAtk;\n","/**\n * SkillDef.js by zhongz132@gmail.com\n *\n * All defense skills information for the game\n */\n\nimport Skill from \"./Skill.js\";\nimport SkillNames from \"./SkillNames.js\";\n\nvar SkillDef = {};\n\nSkillDef[SkillNames.DEF_BASIC] = new Skill({\n\tname: \"Defend\",\n\ttype: \"DEF\",\n\tabout: \"Basic defense with a weapon or shield.\",\n\tbonus: { atk: 0.0, def: 1.2, agi: 0.2, int: 0.2 },\n\n\tonFail: { text: \"Your defense fails.\" },\n\tonSuccess: { text: \"You defend successfully.\", energy: 5 }\n});\n\nSkillDef[SkillNames.DEF_PARRY] = new Skill({\n\tname: \"Parry\",\n\ttype: \"DEF\",\n\tabout: \"Deflect an attack.\",\n\tenergy: 20,\n\tbonus: { atk: 0.8, def: 1.4, agi: 0.8, int: 0.8 },\n\n\tonFail: { text: \"You parry fails.\" },\n\tonSuccess: { text: \"You parry successfully.\", steal: 10 }\n});\n\nSkillDef[SkillNames.DEF_BLOCK] = new Skill({\n\tname: \"Block\",\n\ttype: \"DEF\",\n\tabout: \"Prepare for a strong attack.\",\n\tenergy: 35,\n\tbonus: { atk: 0.0, def: 4.0, agi: 0.2, int: 0.5 },\n\n\tonFail: { text: \"Your block fails.\" },\n\tonSuccess: { text: \"You block successfully.\", steal: 5, selfstatus: [\"Focused\"] }\n});\n\nSkillDef[SkillNames.DEF_DODGE] = new Skill({\n\tname: \"Dodge\",\n\ttype: \"DEF\",\n\tabout: \"Dodges a perceived attack.\",\n\tenergy: 35,\n\tbonus: { atk: 0.0, def: 0.5, agi: 4.0, int: 0.5 },\n\n\tonFail: { text: \"You dodge fails.\" },\n\tonSuccess: { text: \"You dodge the attack.\", steal: 5, selfstatus: [\"Focused\"] }\n});\n\nSkillDef[SkillNames.DEF_COUNTER] = new Skill({\n\tname: \"Counter\",\n\ttype: \"DEF\",\n\tabout: \"Blocks or dodges an attack in advance, then deliver a sure strike back.\",\n\tenergy: 60,\n\tbonus: { atk: 1.5, def: 3.2, agi: 3.2, int: 1.3 },\n\n\tonFail: { text: \"Your counter fails.\" },\n\tonSuccess: { text: \"Your counter skillfully.\", dmg: 0.4, selfstatus: [\"Focused\"], status: [\"Bleeding\"] }\n});\n\nSkillDef[SkillNames.STUNNED] = new Skill({\n\tname: \"STUNNED\",\n\ttype: \"DEF\",\n\tabout: \"STUN STATUS\",\n\tenergy: 0,\n\tbonus: { atk: 0.0, def: 0.8, agi: 0.0, int: 0.0 },\n\n\tonFail: { text: \"You are stunned!\" },\n\tonSuccess: { text: \"You are stunned!\" }\n});\n\nexport default SkillDef;\n","/**\n * SkillAgi.js by zhongz132@gmail.com\n *\n * All agility skills information for the game\n */\n\nimport Skill from \"./Skill.js\";\nimport SkillNames from \"./SkillNames.js\";\n\nvar SkillAgi = {};\n\nSkillAgi[SkillNames.AGI_BASIC] = new Skill({\n\tname: \"Sneak\",\n\ttype: \"AGI\",\n\tabout: \"Slide and sneak attack.\",\n\tbonus: { atk: 0.9, def: 0.8, agi: 1.4, int: 0.3 },\n\n\tonFail: { text: \"Your sneak attack fails.\" },\n\tonSuccess: { text: \"Your sneak attack succeeds.\", dmg: 0.25 }\n});\n\nSkillAgi[SkillNames.AGI_BACKSTAB] = new Skill({\n\tname: \"Backstab\",\n\ttype: \"AGI\",\n\tabout: \"Go behind the opponent and stab quickly.\",\n\tenergy: 20,\n\tbonus: { atk: 1.5, def: 0.8, agi: 2.5, int: 0.8 },\n\n\tonFail: { text: \"Your backstab fails to pierce your opponent's defense.\" },\n\tonSuccess: { text: \"Your backstab succeeds.\", dmg: 0.4, status: [\"Bleeding\"] }\n});\n\nSkillAgi[SkillNames.AGI_QUICKSTRIKE] = new Skill({\n\tname: \"Quick strike\",\n\ttype: \"AGI\",\n\tabout: \"Strikes extremely quickly in a vital spot.\",\n\tenergy: 30,\n\tbonus: { atk: 1.2, def: 0.7, agi: 6.0, int: 0.8 },\n\n\tonFail: { text: \"Your quickstrike failed.\", selfstatus: [\"Stunned\"] },\n\tonSuccess: { text: \"Your aim is true.\", dmg: 0.4, status: [\"Bleeding\"] }\n});\n\nSkillAgi[SkillNames.AGI_EVISCERATE] = new Skill({\n\tname: \"Eviserate\",\n\ttype: \"AGI\",\n\tabout: \"Go behind an enemy and perform a sure, targeted strike.\",\n\tenergy: 40,\n\tbonus: { ignore: \"DEF\", atk: 0.4, def: 0.8, agi: 1.2, int: 1.2 },\n\n\tonFail: { text: \"Your dagger misses.\" },\n\tonSuccess: { text: \"Your dagger pierces skin.\", dmg: 0.5, status: [\"Bleeding\"] }\n});\n\nSkillAgi[SkillNames.AGI_ASSASSINATE] = new Skill({\n\tname: \"Assassinate\",\n\ttype: \"AGI\",\n\tabout: \"Assasinate your target.\",\n\tenergy: 80,\n\tbonus: { atk: 2.0, def: 0.5, agi: 6.0, int: 1.6 },\n\n\tonFail: { text: \"Your assassination failed.\", selfstatus: [\"Stunned\"] },\n\tonSuccess: {\n\t\ttext: \"You critically strike your target.\",\n\t\tdmg: 0.6,\n\t\tenergy: 10,\n\t\tselfstatus: [\"Focused\"],\n\t\tstatus: [\"Stunned\", \"Bleeding\"]\n\t}\n});\n\nexport default SkillAgi;\n","/**\n * SkillSpe.js by zhongz132@gmail.com\n *\n * All agility skills information for the game\n */\n\nimport Skill from \"./Skill.js\";\nimport SkillNames from \"./SkillNames.js\";\n\nlet SkillSpe = {};\n\nSkillSpe[SkillNames.SPE_ESCAPE] = new Skill({\n\tname: \"Escape\",\n\ttype: \"SPE\",\n\tabout: \"Try to run away from battle.\",\n\tbonus: { atk: 0.8, def: 0.8, agi: 0.8, int: 0.8 },\n\n\tonFail: { text: \"You fail to escape.\" },\n\tonSuccess: { text: \"You manage to run away.\", end: \"Escape\" }\n});\n\nSkillSpe[SkillNames.SPE_WAIT] = new Skill({\n\tname: \"Wait\",\n\ttype: \"SPE\",\n\tabout: \"Do nothing.\",\n\tbonus: { atk: 0.0, def: 0.9, agi: 1.0, int: 0.8 },\n\n\tonFail: { text: \"Well...\" },\n\tonSuccess: { text: \"Nothing interesting happens.\", energy: 10 }\n});\n\nSkillSpe[SkillNames.SPE_CHARGEUP] = new Skill({\n\tname: \"Charge Up\",\n\ttype: \"SPE\",\n\tabout: \"Prepare your energy.\",\n\tbonus: { atk: 0.0, def: 0.8, agi: 0.3, int: 1.0 },\n\n\tonFail: { text: \"Your opponent distracts you.\", energy: 10 },\n\tonSuccess: { text: \"You charge up succesfully.\", energy: 25 }\n});\n\nSkillSpe[SkillNames.SPE_EXAMINE] = new Skill({\n\tname: \"Examine\",\n\ttype: \"SPE\",\n\tabout: \"Examine your opponent's weak points\",\n\tbonus: { atk: 0.0, def: 1.1, agi: 1.2, int: 1.2 },\n\n\tonFail: { text: \"Your examine fails.\" },\n\tonSuccess: { text: \"You find your opponent's weakness.\", selfstatus: [\"Focused\"] }\n});\n\nSkillSpe[SkillNames.SPE_BERSERK] = new Skill({\n\tname: \"Berserk\",\n\ttype: \"SPE\",\n\tabout: \"Abandons your defense to deliver a devastating blow next turn.\",\n\tbonus: { atk: 0.0, def: 0.0, agi: 0.0, int: 0.0 },\n\n\tonFail: { text: \"You are berserk.\", energy: 10, selfstatus: [\"Berserk\"] },\n\tonSuccess: { text: \"You are berserk.\", energy: 10, selfstatus: [\"Berserk\"] }\n});\n\nSkillSpe[SkillNames.SPE_BANDAGE] = new Skill({\n\tname: \"Bandage wounds\",\n\ttype: \"SPE\",\n\tabout: \"Bandage your wounds and slightly restores HP.\",\n\tbonus: { atk: 0.0, def: 0.8, agi: 0.0, int: 1.2 },\n\n\tonFail: { text: \"Your fail to heal yourself.\", remove: [\"Bleeding\"] },\n\tonSuccess: { text: \"You banadage yourself succesfully.\", heal: 0.1, remove: [\"Bleeding\"] }\n});\n\nSkillSpe[SkillNames.SPE_HEAL] = new Skill({\n\tname: \"Heal\",\n\ttype: \"SPE\",\n\tabout: \"Heals statuses and restores HP.\",\n\tenergy: 20,\n\tbonus: { atk: 0.0, def: 0.9, agi: 0.2, int: 1.4 },\n\n\tonFail: { text: \"Your opponent takes advantage.\", heal: 0.05, remove: [\"Bleeding\"] },\n\tonSuccess: { text: \"You heal yourself succesfully.\", heal: 0.15, remove: [\"Bleeding\", \"Poisoned\"] }\n});\n\nexport default SkillSpe;\n","/**\n * SkillData.js by zhongz132@gmail.com\n *\n * All skill information for the game\n */\n\nimport Immutable from \"immutable\";\nimport SkillPassive from \"./SkillPassive.js\";\nimport SkillAtk from \"./SkillAtk.js\";\nimport SkillDef from \"./SkillDef.js\";\nimport SkillAgi from \"./SkillAgi.js\";\nimport SkillSpe from \"./SkillSpe.js\";\n\nlet SkillData = Immutable.Record({ ...SkillPassive, ...SkillAtk, ...SkillDef, ...SkillAgi, ...SkillSpe });\n\nexport default SkillData;\n","/**\n * Character.js by zhongz132@gmail.com\n * \n * Declaration of the player element in the game\n */\n\nimport Immutable from \"immutable\";\nimport SkillNames from \"./../Skills/SkillNames.js\";\n\nconst Player = Immutable.Record({\n\thealth: 1.00, // How healthy the player is\n\n\tcst: 100, // Constitution (HP)\n\tatk: 100, // Attack (ATK Power)\n\tdef: 100, // Defense (DEF Power)\n\tagi: 100, // Agility (Speed)\n\tint: 100, // Intelligence (Special)\n\n\tinf: 0, // Influence\n\trep: 10, // how good the player is percieved as. Negative is evil\n\n\tpassive: [], // passive skills\n\tskill: SkillNames.BASIC, // active skills\n\tinventory: [], // inventory\n})\n\nexport default Player;","/**\n * SBState.js by zhongz132@gmail.com\n *\n * Declaration for the spar and battle state.\n */\n\nimport Immutable from \"immutable\";\n\nconst SBState = Immutable.Record({\n\ttype: undefined,\n\tturn: 0,\n\n\tplayerHp: 0,\n\tplayerEnergy: 0,\n\tplayerStatus: [],\n\tplayerSkill: [],\n\tplayerPassive: [],\n\tplayerAtk: 0,\n\tplayerDef: 0,\n\tplayerAgi: 0,\n\tplayerInt: 0,\n\tplayerUsedUndying: false,\n\n\toppHp: 0,\n\toppEnergy: 0,\n\toppStatus: [],\n\toppSkill: [],\n\toppPassive: [],\n\toppLogic: \"\",\n\toppAtk: 0,\n\toppDef: 0,\n\toppAgi: 0,\n\toppInt: 0,\n\toppUsedUndying: false,\n\n\tendResult: undefined\n});\n\nexport default SBState;","/**\n * Game.js by zhongz132@gmail.com\n *\n * Base declaration and data of game element in the game\n */\n\nimport Immutable from \"immutable\";\nimport LocationData from \"./../Locations/LocationData.js\";\nimport CharacterData from \"./../Characters/CharacterData.js\";\nimport SkillData from \"./../Skills/SkillData.js\"\nimport Player from \"./../Characters/Player.js\";\nimport SBState from \"./SBState.js\";\n\nconst Game = Immutable.Record({\n\tgameId: -1, // Game Id, CIRTICAL WARNING: UNIQUE\n\n\ttime: 0, // time elapsed. 10 units of time is one day.\n\tgold: 0, // Current gold\n\n\tplayer: new Player(),\n\tplayerView: \"overview\", // overview, skills, or inventory\n\n\tprevLoc: \"World_Lian\",\n\tcurLoc: \"World_Lian\", // Current location (start at Lian)\n\tdialLocId: \"\", // Dialog display of the location.\n\tvalidLoc: [\"World_Lian\"], // Start of with Lian. Program will populate the rest.\n\tLocData: new LocationData(),\n\n\tcurChar: \"\", // Current character interaction. By default, do not interact with anyone\n\tdialCharId: \"\", // Dialog display for a character. Takes precedence over location, other than battle/spar\n\tdialSysText: \"\",\n\tdialCharText: \"\",\n\tvalidChar: [], // Valid characters\n\tdeadChar: [], // Dead characters. Everyone starts alive\n\tdoneSpar: [], // Defeated the character in a spar\n\tdoneChar: [], // Characters who are done.\n\tvalidSkill: [], // The skill is valid to learn. Note: skills are stored in player.\n\n\tvalidQuest: [], // The quest is valid to take.\n\tactiveQuest: [], // Active quests\n\tdoneQuest: [], // Quest is done, but has yet to be turned in.\n\tcompleteQuest: [], // The quest is complete and turned in.\n\n\tCharData: new CharacterData(),\n\n\tSkillData: new SkillData(),\n\tSBState: new SBState(), // spar battle data\n});\n\nexport default Game;\n","/**\n * UpdateReqs.js by zhongz132@gmail.com\n *\n * Checks if the requirements of an element(s) is/are met\n */\n\nfunction __checkReq(state, req) {\n\tfor (var key in req) {\n\t\tswitch (key) {\n\t\t\tcase \"cst\":\n\t\t\t\tif (state.player.cst < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"atk\":\n\t\t\t\tif (state.player.atk < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"def\":\n\t\t\t\tif (state.player.def < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"agi\":\n\t\t\t\tif (state.player.agi < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"int\":\n\t\t\t\tif (state.player.int < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"inf\":\n\t\t\t\tif (state.player.inf < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"rep\":\n\t\t\t\tif (state.player.rep < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"gold\":\n\t\t\t\tif (state.gold < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"timeStart\":\n\t\t\t\tif (state.time < req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"timeEnd\":\n\t\t\t\tif (state.time > req[key]) return false;\n\t\t\t\tbreak;\n\t\t\tcase \"loc\":\n\t\t\t\tfor (var loc in req[key]) {\n\t\t\t\t\tif (!state.validLoc.includes(req[key][loc])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"char\":\n\t\t\t\tfor (var char in req[key]) {\n\t\t\t\t\tif (!state.doneChar.includes(req[key][char])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"skill\":\n\t\t\t\tfor (var skill in req[key]) {\n\t\t\t\t\tif (!state.player.skill.includes(req[key][skill])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"dead\":\n\t\t\t\tfor (var dead in req[key]) {\n\t\t\t\t\tif (!state.deadChar.includes(req[key][dead])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"quest\":\n\t\t\t\tfor (var quest in req[key]) {\n\t\t\t\t\tif (!state.doneQuest.includes(req[key][quest])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"item\":\n\t\t\t\tfor (var item in req[key]) {\n\t\t\t\t\tif (!state.player.inventory.includes(req[key][item])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"spar\":\n\t\t\t\tfor (var spar in req[key]) {\n\t\t\t\t\tif (!state.doneSpar.includes(req[key][spar])) return false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"Error: Invalid requirement.\");\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction __checkReqs(state, reqs) {\n\tif (!reqs || reqs.length === 0) {\n\t\treturn true;\n\t}\n\tfor (var i in reqs) {\n\t\t// ONE of the reqs is true\n\t\tif (__checkReq(state, reqs[i])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function UpdateChar(state, charId) {\n\tlet interactions = state.CharData[charId].interact;\n\tfor (var key in interactions) {\n\t\tif (interactions[key].validReq) {\n\t\t\tswitch (key) {\n\t\t\t\tcase \"quest\":\n\t\t\t\t\tif (!state.validQuest.includes(charId)) {\n\t\t\t\t\t\tif (__checkReqs(state, interactions[key].validReq)) {\n\t\t\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\t\t\tvalidQuest: [...state.validQuest, charId]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"teachSkill\":\n\t\t\t\t\tif (!state.validSkill.includes(interactions[key].skillId)) {\n\t\t\t\t\t\tif (__checkReqs(state, interactions[key].validReq)) {\n\t\t\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\t\t\tvalidSkill: [...state.validSkill, interactions[key].skillId]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"Error: tried to check valid requirements in an unrecognized state.\" + key\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Check if quests are done.\n\t\tif (interactions[key].doneReq) {\n\t\t\t// ONLY QUESTS SHOULD BE DONE. NOTHING ELSE.\n\t\t\tif (key === \"quest\") {\n\t\t\t\tif (!state.doneQuest.includes(charId) && state.validQuest.includes(charId)) {\n\t\t\t\t\tif (__checkReqs(state, interactions[key].doneReq)) {\n\t\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\t\tdoneQuest: [...state.doneQuest, charId]\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Error: tried to check character interaction done for type that is not quest in UpdateReqs/updateChar\");\n\t\t\t}\n\t\t}\n\n\t\t// Check if character is done\n\t\tif (!state.doneChar.includes(charId)) {\n\t\t\tif (__checkReqs(state, state.CharData[charId].doneReq)) {\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tdoneChar: [...state.doneChar, charId]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn state;\n}\n\nexport function UpdateLoc(state, location) {\n\tlet locParent = state.LocData[location].parent;\n\tlet locChildren = state.LocData[location].children;\n\tlet locChars = state.LocData[location].characters;\n\n\t// Parent\n\tif (locParent === \"\") {\n\t} else if (locParent === null) {\n\t\tconsole.log(\"Error: parent is null in UpdateReqs/updateReqs.\");\n\t} else {\n\t\t// parent is not valid!\n\t\tif (!state.validLoc.includes(locParent)) {\n\t\t\tlet parentReqs = state.LocData[locParent].validReq;\n\t\t\t// It is valid. Add to validLoc\n\t\t\tif (__checkReqs(state, parentReqs)) {\n\t\t\t\t// add to state\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tvalidLoc: [...state.validLoc, locParent]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// Parent\n\tif (location === \"\") {\n\t} else if (location === null) {\n\t\tconsole.log(\"Error: parent is null in UpdateReqs/updateReqs.\");\n\t} else {\n\t\t// parent is not valid!\n\t\tif (!state.validLoc.includes(location)) {\n\t\t\tlet locationReqs = state.LocData[location].validReq;\n\t\t\t// It is valid. Add to validLoc\n\t\t\tif (__checkReqs(state, locationReqs)) {\n\t\t\t\t// add to state\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tvalidLoc: [...state.validLoc, location]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// Children\n\tif (locChildren === null) {\n\t\tconsole.log(\"Error: children are null in UpdateReqs/updateReqs\");\n\t} else if (locChildren.length === 0) {\n\t\t// This is oaky, do nothing\n\t} else {\n\t\tfor (var child in locChildren) {\n\t\t\tif (!state.validLoc.includes(locChildren[child])) {\n\t\t\t\tlet childReqs = state.LocData[locChildren[child]].validReq;\n\t\t\t\tif (__checkReqs(state, childReqs)) {\n\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\tvalidLoc: [...state.validLoc, locChildren[child]]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Characters\n\tif (locChars === null) {\n\t\tconsole.log(\"Error: characters are null in UpdateReqs/updateReq\");\n\t} else if (locChars.length === 0) {\n\t\t// This is okay, do nothing\n\t} else {\n\t\tfor (var char in locChars) {\n\t\t\t// valid\n\t\t\tif (!state.validChar.includes(locChars[char])) {\n\t\t\t\tlet charReqs = state.CharData[locChars[char]].validReq;\n\t\t\t\tif (__checkReqs(state, charReqs)) {\n\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\tvalidChar: [...state.validChar, locChars[char]]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// done\n\t\t\tif (!state.doneChar.includes(locChars[char])) {\n\t\t\t\tlet charReqs = state.CharData[locChars[char]].doneReq;\n\t\t\t\tif (__checkReqs(state, charReqs)) {\n\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\tdoneChar: [...state.doneChar, locChars[char]]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tUpdateChar(state, locChars[char]);\n\t\t}\n\t}\n\n\treturn state;\n}\n","/**\n * ProcessRewards.js by zhongz132@gmail.com\n *\n * Processes the rewards for quests, spars, and battles.\n */\n\nexport default function ProcessRewards(state, reward) {\n\tfor (var key in reward) {\n\t\tswitch (key) {\n\t\t\tcase \"inf\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tinf: state.player.inf + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"rep\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\trep: state.player.rep + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"gold\":\n\t\t\t\tstate = state.merge({ gold: state.gold + reward[key] });\n\t\t\t\tbreak;\n\t\t\tcase \"item\":\n\t\t\t\tlet newInventory = [...state.player.inventory];\n\t\t\t\tnewInventory.push(reward[key]);\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tinventory: newInventory\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"skill\":\n\t\t\t\tlet newSkill = [...state.player.skill];\n\t\t\t\tif (!newSkill.includes(reward[key])) {\n\t\t\t\t\tnewSkill.push(reward[key]);\n\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\t\tskill: newSkill\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"passive\":\n\t\t\t\tlet newPassive = [...state.player.passive];\n\t\t\t\tif (!newPassive.includes(reward[key])) {\n\t\t\t\t\tnewPassive.push(reward[key]);\n\t\t\t\t\tstate = state.merge({\n\t\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\t\tpassive: newPassive\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"atk\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tatk: state.player.atk + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"def\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tdef: state.player.def + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"agi\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tagi: state.player.agi + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"cst\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tcst: state.player.cst + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"health\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\thealth: state.player.health + reward[key]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"Invalid reward type: \" + key);\n\t\t}\n\t}\n\n\treturn state;\n}\n","/**\n * ProcessTake.js by zhongz132@gmail.com\n *\n * Processes the take request for quests, spars, and battles.\n */\n\nfunction ProcessTake(state, take) {\n\tfor (let key in take) {\n\t\tswitch (key) {\n\t\t\tcase \"item\":\n\t\t\t\tlet newInventory = [...state.player.inventory];\n\t\t\t\tfor (let i in take[key]) {\n\t\t\t\t\tconsole.log(newInventory)\n\t\t\t\t\tif (newInventory.includes(take[key][i])) {\n\t\t\t\t\t\tnewInventory = newInventory.filter(item => item !== take[key][i]);\n\t\t\t\t\t\tconsole.log(newInventory)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.merge({\n\t\t\t\t\t\tinventory: newInventory\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"gold\":\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tgold: state.gold - take[key]\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"Invalid take type, \", key);\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default ProcessTake;\n","/**\n * StartSpar.js by zhongz132@gmail.com\n *\n * Starts the spar\n */\n\nimport SBState from \"./SBState\";\nimport SkillNames from \"./../Skills/SkillNames.js\";\n\nfunction parseSkill(skill1) {\n\tlet newSkillList = [];\n\tlet skill = [...skill1]\n\tfor (let i in skill) {\n\t\tif (typeof skill[i] === \"object\") {\n\t\t\tfor (let j in skill[i]) {\n\t\t\t\tif (!newSkillList.includes(skill[i][j])) {\n\t\t\t\t\tnewSkillList.push(skill[i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof skill[i] === \"string\") {\n\t\t\tif (!newSkillList.includes(skill[i])) {\n\t\t\t\tnewSkillList.push(skill[i]);\n\t\t\t}\n\t\t}\n\t}\n\tconsole.log(\"newskilllist: \", newSkillList)\n\treturn newSkillList;\n}\n\nfunction passiveBonus(state, passives1) {\n\tlet passiveEffects = { cst: 0.0, atk: 0.0, def: 0.0, agi: 0.0, int: 0.0, energy: 0, status: [], named: [] };\n\tlet passives = [...passives1]\n\tconsole.log(passives);\n\tfor (var passive in passives) {\n\t\tlet bonus = state.SkillData[passives[passive]].bonus;\n\t\tfor (var bonusKey in bonus) {\n\t\t\tconsole.log(\"Checking that status bonuskey works: \", bonusKey);\n\t\t\tif (bonusKey === \"status\") {\n\t\t\t\tpassiveEffects.status.push(bonus[bonusKey]);\n\t\t\t} else {\n\t\t\t\tpassiveEffects[bonusKey] += bonus[bonusKey];\n\t\t\t}\n\t\t}\n\t}\n\tif (passives.includes(SkillNames.PAS_FATED) && state.curLoc === \"Battle\") {\n\t\tpassiveEffects.named.push(SkillNames.PAS_FATED);\n\t}\n\tif (passives.includes(SkillNames.PAS_UNDYING) && state.curLoc === \"Battle\") {\n\t\tpassiveEffects.named.push(SkillNames.PAS_UNDYING);\n\t}\n\n\treturn passiveEffects;\n}\n\nexport default function StartSpar(state) {\n\tlet player = state.player;\n\tlet opp = state.CharData[state.curChar];\n\tlet playerPassEffects = passiveBonus(state, player.passive);\n\tlet oppPassEffects = passiveBonus(state, opp.passive);\n\n\treturn new SBState({\n\t\ttype: \"Spar\",\n\t\tplayerHp: Math.round(player.cst * (1 + playerPassEffects.cst) * player.health),\n\t\tplayerEnergy: Math.round(playerPassEffects.energy),\n\t\tplayerStatus: playerPassEffects.status,\n\t\tplayerSkill: parseSkill(player.skill),\n\t\tplayerPassive: player.passive.filter(\n\t\t\tpassive => passive !== SkillNames.PAS_FATED && passive !== SkillNames.PAS_UNDYING\n\t\t),\n\t\tplayerAtk: Math.round(player.atk * (1 + playerPassEffects.atk) * player.health) + 1000,\n\t\tplayerDef: Math.round(player.def * (1 + playerPassEffects.def) * player.health),\n\t\tplayerAgi: Math.round(player.agi * (1 + playerPassEffects.agi) * player.health),\n\t\tplayerInt: Math.round(player.int * (1 + playerPassEffects.int) * player.health),\n\n\t\toppHp: Math.round(opp.cst * (1 + oppPassEffects.cst)),\n\t\toppEnergy: Math.round(oppPassEffects.energy),\n\t\toppStatus: oppPassEffects.status,\n\t\toppSkill: parseSkill(opp.skill).filter(\n\t\t\tskill => skill !== SkillNames.SPE_ESCAPE && skill !== SkillNames.SPE_INTIMIDATE\n\t\t),\n\t\toppPassive: opp.passive.filter(\n\t\t\tpassive => passive !== SkillNames.PAS_FATED && passive !== SkillNames.PAS_UNDYING\n\t\t),\n\t\toppLogic: opp.logic,\n\t\toppAtk: Math.round(opp.atk * (1 + oppPassEffects.atk)),\n\t\toppDef: Math.round(opp.def * (1 + oppPassEffects.def)),\n\t\toppAgi: Math.round(opp.agi * (1 + oppPassEffects.agi)),\n\t\toppInt: Math.round(opp.int * (1 + oppPassEffects.int))\n\t});\n}\n","/**\n * GetSkillInfo.js by zhongz132@gmail.com\n *\n * Converts raw skill information to something readable.\n */\n\nfunction getOnEvent(onSuccess) {\n\tlet info = \"\";\n\tif (onSuccess.dmg) {\n\t\tinfo += \"DMG: \" + onSuccess.dmg + \"; \";\n\t}\n\n\tif (onSuccess.status) {\n\t\tinfo += \"Opp status:\";\n\t\tfor (let x in onSuccess.status) {\n\t\t\tinfo += \" \" + onSuccess.status[x];\n\t\t}\n\t\tinfo += \"; \";\n\t}\n\n\tif (onSuccess.steal) {\n\t\tinfo += \"Steal: \" + onSuccess.steal + \" energy; \";\n\t}\n\n\tif (onSuccess.selfstatus) {\n\t\tinfo += \"Self status:\";\n\t\tfor (let x in onSuccess.selfstatus) {\n\t\t\tinfo += \" \" + onSuccess.selfstatus[x];\n\t\t}\n\t\tinfo += \"; \";\n\t}\n\n\tif (onSuccess.energy) {\n\t\tinfo += \"Gain: \" + onSuccess.energy + \" energy; \";\n\t}\n\n\tif (onSuccess.heal) {\n\t\tinfo += \"Heal: \" + onSuccess.heal + \"*INT HP; \";\n\t}\n\n\tif (onSuccess.remove) {\n\t\tinfo += \"Remove:\";\n\t\tfor (let x in onSuccess.remove) {\n\t\t\tinfo += \" \" + onSuccess.remove[x]\n\t\t}\n\t\tinfo += \"; \";\n\t}\n\n\tif (onSuccess.end) {\n\t\tinfo += \"End on: \" + onSuccess.end + \".\";\n\t} else {\n\t\tinfo = info.substring(0, info.length - 2);\n\t\tinfo += \".\";\n\t}\n\treturn info;\n}\n\nfunction GetSkillInfo(skill) {\n\tlet bonus = skill.bonus;\n\tlet onFail = skill.onFail;\n\tlet onSuccess = skill.onSuccess;\n\n\tlet info = \"Costs \" + skill.energy + \" energy.\";\n\n\tinfo += \" ATK: \" + bonus.atk + \"; DEF: \" + bonus.def + \"; AGI: \" + bonus.agi + \"; INT: \" + bonus.int + \".\";\n\tif (Object.keys(onFail).length > 1) {\n\t\tinfo += \"\\n On Fail, \";\n\t\tinfo += getOnEvent(onFail);\n\t}\n\n\tinfo += \"\\n On success, \";\n\n\tinfo += getOnEvent(onSuccess);\n\n\treturn info;\n}\n\nexport default GetSkillInfo;\n","/**\n * CLBasic.js by zhongz132@gmail.com\n *\n * Combat logic for a basic character.\n */\n\nfunction CLBasic(SBState, SkillData, playerSkillId) {\n\treturn SBState.oppSkill[0];\n}\n\nexport default CLBasic;","/**\n * CombatLogic.js by zhongz132@gmail.com\n *\n * The opponents combat logic. Will output a move\n */\n\nimport CombatLogicNames from \"./CombatLogicNames.js\";\nimport CLBasic from \"./CLBasic.js\";\n\nfunction CombatLogic(SBState, SkillData, playerSkillId) {\n\tswitch (SBState.oppLogic) {\n\t\tcase CombatLogicNames.BASIC:\n\t\t\treturn CLBasic(SBState, SkillData, playerSkillId);\n\t\tdefault:\n\t\t\tconsole.log(\"CRITICAL ERROR: Undefined player logic: \", SBState.oppLogic);\n\t\t\tconsole.log(SBState.oppSkill[1])\n\t\t\treturn SBState.oppSkill[1];\n\t}\n}\n\nexport default CombatLogic;\n","/**\n * ProcessSkill.js by zhongz132@gmail.com\n *\n * Processes a skill in spar or battle mode.\n */\n\nimport SkillNames from \"./../Skills/SkillNames.js\";\nimport CombatLogic from \"./../CombatLogic/CombatLogic.js\";\n\n/**\n * Winner types:\n * None: No one wins\n * Both: Both win\n * Player: Player wins\n * Opp: Opponent wins\n * PlayerAgi: Player is scraped, takes half dmg and no effects; applies full dmg and effect to opp\n * OppAgi: Opponent is scraped, takes half dmg and no effects; applies full dmg and effect to player\n * PlayerPartial: Player deals half dmg no effects, takes no dmg/effects\n * OppPartial: Opp deals half dmg no effects, takes no dmg/effects\n */\n\n/*\nreturn{\ntext: \"....\",\nend: \"\",\nplayer: {hp: +-, energy +-, removeSelfStat, gainSelfStat},\nopp: {hp: +-, energy+-, removeSelfStat, gainSelfStat},\n}\n*/\n\nfunction CalcWinner(SBState, playerSkill, playerBonus, playerType, oppSkill, oppBonus, oppType) {\n\tfunction _winnerEffect(winner) {\n\t\tfunction __calcOnEffect(effects, who) {\n\t\t\tfor (let key in effects) {\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\tif (who === \"Player\") player[\"sysText\"] = effects[key];\n\t\t\t\t\t\telse if (who === \"Opp\") opp[\"sysText\"] = effects[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"dmg\":\n\t\t\t\t\t\tif (who === \"Player\") opp[\"hp\"] -= (playerAtk - oppDef) * effects[key];\n\t\t\t\t\t\telse if (who === \"Opp\") player[\"hp\"] -= (oppAtk - playerDef) * effects[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"status\":\n\t\t\t\t\t\tif (who === \"Player\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\topp[\"status\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (who === \"Opp\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\tplayer[\"status\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"selfstatus\":\n\t\t\t\t\t\tif (who === \"Player\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\tplayer[\"status\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (who === \"Opp\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\topp[\"status\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"steal\":\n\t\t\t\t\t\tif (who === \"Player\") {\n\t\t\t\t\t\t\tlet energyStolen = Math.min(effects[key], SBState.oppEnergy);\n\t\t\t\t\t\t\tplayer[\"energy\"] += energyStolen;\n\t\t\t\t\t\t\topp[\"energy\"] -= energyStolen;\n\t\t\t\t\t\t} else if (who === \"Opp\") {\n\t\t\t\t\t\t\tlet energyStolen = Math.min(effects[key], SBState.playerEnergy);\n\t\t\t\t\t\t\topp[\"energy\"] += energyStolen;\n\t\t\t\t\t\t\tplayer[\"energy\"] -= energyStolen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"energy\":\n\t\t\t\t\t\tif (who === \"Player\") player[\"energy\"] += effects[key];\n\t\t\t\t\t\telse if (who === \"Opp\") opp[\"energy\"] += effects[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\tif (who === \"Player\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\tplayer[\"removeStatus\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (who === \"Opp\") {\n\t\t\t\t\t\t\tfor (let i in effects[key]) {\n\t\t\t\t\t\t\t\topp[\"removeStatus\"].push(effects[key][i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"heal\":\n\t\t\t\t\t\tif (who === \"Player\") player[\"hp\"] += playerInt * effects[key];\n\t\t\t\t\t\telse if (who === \"Opp\") opp[\"hp\"] += playerInt * effects[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\tif (who === \"Player\") player[\"end\"] = effects[key];\n\t\t\t\t\t\tif (who === \"Opp\") opp[\"end\"] = effects[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log(\"Error: Invalid effects key, \", key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet player = {\n\t\t\tsysText: \"\",\n\t\t\thp: 0,\n\t\t\tenergy: 0,\n\t\t\tstatus: [],\n\t\t\tremoveStatus: []\n\t\t};\n\t\tlet opp = {\n\t\t\tsysText: \"\",\n\t\t\thp: 0,\n\t\t\tenergy: 0,\n\t\t\tstatus: [],\n\t\t\tremoveStatus: []\n\t\t};\n\n\t\tswitch (winner) {\n\t\t\tcase \"None\":\n\t\t\t\t__calcOnEffect(playerSkill.onFail, \"Player\");\n\t\t\t\t__calcOnEffect(oppSkill.onFail, \"Opp\");\n\t\t\t\tbreak;\n\t\t\tcase \"Both\":\n\t\t\t\t__calcOnEffect(playerSkill.onSuccess, \"Player\");\n\t\t\t\t__calcOnEffect(oppSkill.onSuccess, \"Opp\");\n\t\t\t\tbreak;\n\t\t\tcase \"Player\":\n\t\t\t\t__calcOnEffect(playerSkill.onSuccess, \"Player\");\n\t\t\t\t__calcOnEffect(oppSkill.onFail, \"Opp\");\n\t\t\t\tbreak;\n\t\t\tcase \"Opp\":\n\t\t\t\t__calcOnEffect(playerSkill.onFail, \"Player\");\n\t\t\t\t__calcOnEffect(oppSkill.onSuccess, \"Opp\");\n\t\t\t\tbreak;\n\t\t\tcase \"PlayerAgi\":\n\t\t\t\t__calcOnEffect(playerSkill.onSuccess, \"Player\");\n\t\t\t\topp[\"sysText\"] = oppSkill.onFail.text;\n\t\t\t\tif (oppSkill.onSuccess.dmg) {\n\t\t\t\t\tplayer[\"hp\"] -= (oppAtk - playerDef) * oppSkill.onSuccess.dmg * (oppAgi / playerAgi) * 0.5;\n\t\t\t\t\topp[\"sysText\"] = \"You scrape your opponent.\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"OppAgi\":\n\t\t\t\tplayer[\"sysText\"] = playerSkill.onFail.text;\n\t\t\t\t__calcOnEffect(oppSkill.onSuccess, \"Opp\");\n\t\t\t\tif (playerSkill.onSuccess.dmg) {\n\t\t\t\t\topp[\"hp\"] -= (playerAtk - oppDef) * playerSkill.onSuccess.dmg * (playerAgi / oppAgi) * 0.5;\n\t\t\t\t\tplayer[\"sysText\"] = \"You scrape your opponent.\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"PlayerPartial\":\n\t\t\t\tplayer[\"sysText\"] = playerSkill.onFail.text;\n\t\t\t\topp[\"sysText\"] = oppSkill.onFail.text;\n\t\t\t\tif (playerSkill.onSuccess.dmg) {\n\t\t\t\t\topp[\"hp\"] -= (playerAtk - oppDef) * playerSkill.onSuccess.dmg * (oppAgi / playerAgi) * 0.5;\n\t\t\t\t\tplayer[\"sysText\"] = \"You scrape your opponent.\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"OppPartial\":\n\t\t\t\tplayer[\"sysText\"] = playerSkill.onFail.text;\n\t\t\t\topp[\"sysText\"] = oppSkill.onFail.text;\n\t\t\t\tif (oppSkill.onSuccess.dmg) {\n\t\t\t\t\tplayer[\"hp\"] -= (oppAtk - playerDef) * oppSkill.onSuccess.dmg * (playerAgi / oppAgi) * 0.5;\n\t\t\t\t\topp[\"sysText\"] = \"You scrape your opponent.\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"Error: Invalid winner type, \", winner);\n\t\t}\n\n\t\treturn {\n\t\t\twinnerType: winner,\n\t\t\tplayer: player,\n\t\t\topp: opp,\n\t\t\tfaster: playerAgi > oppAgi ? \"Player\" : \"Opp\"\n\t\t};\n\t}\n\n\tlet playerAtk = SBState.playerAtk * playerBonus.atk;\n\tlet playerDef = SBState.playerDef * playerBonus.def;\n\tlet playerAgi = SBState.playerAgi * playerBonus.agi;\n\tlet playerInt = SBState.playerInt * playerBonus.int;\n\tlet oppAtk = SBState.oppAtk * oppBonus.atk;\n\tlet oppDef = SBState.oppDef * oppBonus.def;\n\tlet oppAgi = SBState.oppAgi * oppBonus.agi;\n\tlet oppInt = SBState.oppInt * oppBonus.int;\n\n\t// Berserk state\n\tif (SBState.playerStatus.includes(\"Berserk\")) {\n\t\tplayerAtk *= 2.0;\n\t\tplayerDef *= 0.0;\n\t\tplayerAgi *= 2.0;\n\t\tplayerInt *= 0.0;\n\t}\n\n\tif (SBState.oppStatus.includes(\"Berserk\")) {\n\t\toppAtk *= 2.0;\n\t\toppDef *= 0.0;\n\t\toppAgi *= 2.0;\n\t\toppInt *= 0.0;\n\t}\n\n\t// Focus state ( Not much focus in a berserk state LOL )\n\tif (SBState.playerStatus.includes(\"Focus\")) {\n\t\tplayerAtk += playerInt;\n\t\tplayerDef += playerInt;\n\t\tplayerAgi += playerInt;\n\t}\n\n\tif (SBState.oppStatus.includes(\"Focus\")) {\n\t\toppAtk += oppInt;\n\t\toppDef += oppInt;\n\t\toppAgi += oppInt;\n\t}\n\n\tconsole.log(\"Player Stats:\", playerAtk, playerDef, playerAgi);\n\tconsole.log(\"Opp Stats:\", oppAtk, oppDef, oppAgi);\n\n\t// Check stuns\n\tif (playerType === \"STUNNED\") {\n\t\tif (oppType === \"STUNNED\") return _winnerEffect(\"None\");\n\t\tif (oppType === \"DEF\") return _winnerEffect(\"None\");\n\t\tif (oppType === \"SPE\") return _winnerEffect(\"Opp\");\n\t}\n\tif (oppType === \"STUNNED\") {\n\t\tif (playerType === \"DEF\") return _winnerEffect(\"None\");\n\t\tif (playerType === \"SPE\") return _winnerEffect(\"Player\");\n\t}\n\n\t// Check type absolutes\n\tif (playerType === \"DEF\" && oppType === \"DEF\") return _winnerEffect(\"None\");\n\tif (playerType === \"DEF\" && oppType === \"SPE\") return _winnerEffect(\"Opp\");\n\tif (playerType === \"SPE\" && oppType === \"DEF\") return _winnerEffect(\"Player\");\n\tif (playerType === \"SPE\" && oppType === \"SPE\") return _winnerEffect(\"Both\");\n\n\t// Check escapes\n\tif (playerSkill.name === \"Escape\") {\n\t\tif (playerAgi + playerInt > oppAgi + Math.max(SBState.oppInt, oppInt)) return _winnerEffect(\"Player\");\n\t}\n\n\tif (oppSkill.nName === \"Escape\") {\n\t\tif (oppAgi + oppInt > playerAgi + Math.max(SBState.playerInt, playerInt)) return _winnerEffect(\"Opp\");\n\t}\n\n\t// Defense for player\n\tif (playerType === \"DEF\" || playerType === \"STUNNED\") {\n\t\t// Opp has ignore defense\n\t\tif (oppBonus.ignore) {\n\t\t\tif (oppBonus.ignore === \"DEF\") {\n\t\t\t\t// However, the ability is dodged by player\n\t\t\t\tif (playerAgi > oppAgi * 2) return _winnerEffect(\"Player\");\n\t\t\t\t// Can not partial dodge an ignore defense ability. Opp wins\n\t\t\t\tplayerDef = 0.0;\n\t\t\t\treturn _winnerEffect(\"Opp\");\n\t\t\t}\n\t\t}\n\t\t// Opp attack will defintely pierce the player defense\n\t\tif (oppAtk > playerDef) {\n\t\t\t// However, true dodge by player\n\t\t\tif (playerAgi > oppAgi * 2) return _winnerEffect(\"Player\");\n\t\t\t// However, parital dodge by player\n\t\t\tif (playerAgi > oppAgi * 1.5) return _winnerEffect(\"PlayerAgi\");\n\t\t\t// Otherwise Opp wins\n\t\t\treturn _winnerEffect(\"Opp\");\n\t\t}\n\t\t// Opp attack can not, no matter how quick, go through defense, and player not stunned\n\t\tif (playerType !== \"STUNNED\") return _winnerEffect(\"Player\");\n\t\t// Player stunned, but opp can not go trough defense anyway.\n\t\treturn _winnerEffect(\"None\");\n\t}\n\n\t// Defense for opp\n\tif (oppType === \"DEF\" || oppType === \"STUNNED\") {\n\t\t// Player has ignore defense\n\t\tif (playerBonus.ignore) {\n\t\t\tif (playerBonus.ignore === \"DEF\") {\n\t\t\t\t// However, the ability is dodge by opp\n\t\t\t\tif (oppAgi > playerAgi * 2) return _winnerEffect(\"Opp\");\n\t\t\t\t// Can not partial dodge an ignore defense ability. Player wins\n\t\t\t\toppDef = 0.0;\n\t\t\t\treturn _winnerEffect(\"Player\");\n\t\t\t}\n\t\t}\n\t\t// Player attack pierces defense\n\t\tif (playerAtk > oppDef) {\n\t\t\t// However, true dodge by opp\n\t\t\tif (oppAgi > playerAgi * 2) return _winnerEffect(\"Opp\");\n\t\t\t// However, parital dodge by opp\n\t\t\tif (oppAgi > playerAgi * 1.5) return _winnerEffect(\"OppAgi\");\n\t\t\t// Otherwise player wins\n\t\t\treturn _winnerEffect(\"Player\");\n\t\t}\n\t\t// Player attack can not, no matter how quick, go through opp defense, and opp not stunned\n\t\tif (oppType !== \"STUNNED\") return _winnerEffect(\"Opp\");\n\t\t// Opp stunned, and player still can not go through defense\n\t\treturn _winnerEffect(\"None\");\n\t}\n\n\t// Now that it's down to the rest, check agility.\n\tif (playerAgi > 2 * oppAgi) {\n\t\tif (playerAtk > oppDef) return _winnerEffect(\"Player\");\n\t\t// Player dodged, but can not hit through defense\n\t\treturn _winnerEffect(\"None\");\n\t}\n\tif (playerAgi > 1.5 * oppAgi) {\n\t\tif (playerAtk > oppDef) return _winnerEffect(\"PlayerAgi\");\n\t\t// Can not break defense, but still got hit.\n\t\tif (oppAtk > playerDef) return _winnerEffect(\"OppPartial\");\n\t\treturn _winnerEffect(\"None\");\n\t}\n\tif (oppAgi > 2 * playerAgi) {\n\t\tif (oppAtk > playerDef) return _winnerEffect(\"Opp\");\n\t\treturn _winnerEffect(\"None\");\n\t}\n\tif (oppAgi > 1.5 * playerAgi) {\n\t\tif (oppAtk > playerDef) return _winnerEffect(\"OppAgi\");\n\t\tif (playerAtk > oppAtk) return _winnerEffect(\"PlayerPartial\");\n\t\treturn _winnerEffect(\"None\");\n\t}\n\n\t// no agility over a factor of 1.5, check for attack and defense difference\n\tif (playerAtk > oppDef && oppAtk > playerDef) return _winnerEffect(\"Both\");\n\tif (playerAtk <= oppDef && oppAtk <= playerDef) return _winnerEffect(\"None\");\n\tif (playerAtk > oppDef && oppAtk <= playerDef) return _winnerEffect(\"Player\");\n\tif (playerAtk <= oppDef && oppAtk > playerDef) return _winnerEffect(\"Opp\");\n\n\t// only possible if equal atk/def. Unlikely\n\treturn _winnerEffect(\"None\");\n}\n\nfunction ProcessSkill(state, skillId) {\n\tif (state.SBState.endResult) {\n\t\treturn state.merge({\n\t\t\tdialSysText: \"You can't do that! The fight has ended.\"\n\t\t})\n\t}\n\n\tlet playerSkill = state.SkillData[skillId];\n\n\t// Do not have enough energy.\n\tif (playerSkill.energy > state.SBState.playerEnergy) {\n\t\treturn state.merge({\n\t\t\tdialSysText: \"You do not have enough energy for that!\"\n\t\t});\n\t}\n\n\tlet oppSkill = state.SkillData[CombatLogic(state.SBState, state.SkillData, skillId)];\n\n\tlet playerSkillType = playerSkill.type;\n\tlet playerSkillBonus = playerSkill.bonus;\n\tlet oppSkillType = oppSkill.type;\n\tlet oppSkillBonus = oppSkill.bonus;\n\n\tif (state.SBState.playerStatus.includes(\"Stunned\")) {\n\t\tplayerSkill = state.SkillData[SkillNames.STUNNED];\n\t\tplayerSkillType = \"STUNNED\";\n\t\tplayerSkillBonus = { atk: 0.0, def: 0.8, agi: 0.0, int: 0.0 };\n\t}\n\n\tif (state.SBState.oppStatus.includes(\"Stunned\")) {\n\t\toppSkill = state.SkillData[SkillNames.STUNNED];\n\t\toppSkillType = \"STUNNED\";\n\t\toppSkillBonus = { atk: 0.0, def: 0.8, agi: 0.0, int: 0.0 };\n\t}\n\n\tlet winnerRes = CalcWinner(\n\t\tstate.SBState,\n\t\tplayerSkill,\n\t\tplayerSkillBonus,\n\t\tplayerSkillType,\n\t\toppSkill,\n\t\toppSkillBonus,\n\t\toppSkillType\n\t);\n\n\tconsole.log(winnerRes);\n\tconsole.log(\"Player Status:\", state.SBState.playerStatus);\n\tconsole.log(\"Opp Status:\", state.SBState.oppStatus);\n\n\t// Register results\n\t// NOTE FOR ESCAPE. IT IS POSSIBLE TO ESCAPE, BUT STILL BE BELOW 0 HP. THAT CASE WILL RESULT IN A LOSS\n\tlet endStatus = undefined;\n\n\tlet playerHp = state.SBState.playerHp + Math.round(winnerRes.player.hp);\n\tlet playerEnergy = state.SBState.playerEnergy + Math.round(winnerRes.player.energy) + 10 - playerSkill.energy;\n\tlet playerSetUndying = false;\n\tlet oppHp = state.SBState.oppHp + Math.round(winnerRes.opp.hp);\n\tlet oppEnergy = state.SBState.oppEnergy + Math.round(winnerRes.opp.energy) + 10 - oppSkill.energy;\n\tlet oppSetUndying = false;\n\t// Update status\n\tlet playerStatus = [...state.SBState.playerStatus];\n\tlet oppStatus = [...state.SBState.oppStatus];\n\t// Doesn't matter who won, remove focused and stunned state.\n\tplayerStatus = playerStatus.filter(status => status !== \"Stunned\" && status !== \"Focused\");\n\toppStatus = oppStatus.filter(status => status !== \"Stunned\" && status !== \"Focused\");\n\n\t// Apply stats!\n\tif (winnerRes.faster === \"Player\") {\n\t\tfor (let i in winnerRes.player.removeStatus) {\n\t\t\tplayerStatus = playerStatus.filter(status => status !== winnerRes.player.removeStatus[i]);\n\t\t}\n\t\tfor (let i in winnerRes.player.status) {\n\t\t\tplayerStatus.push(winnerRes.player.status[i]);\n\t\t}\n\t\tfor (let i in winnerRes.opp.status) {\n\t\t\toppStatus.push(winnerRes.opp.status[i]);\n\t\t}\n\t\tfor (let i in winnerRes.opp.removeStatus) {\n\t\t\toppStatus = oppStatus.filter(status => status !== winnerRes.opp.removeStatus[i]);\n\t\t}\n\t} else if (winnerRes.faster === \"Opp\") {\n\t\tfor (let i in winnerRes.player.status) {\n\t\t\tplayerStatus.push(winnerRes.player.status[i]);\n\t\t}\n\t\tfor (let i in winnerRes.player.removeStatus) {\n\t\t\tplayerStatus = playerStatus.filter(status => status !== winnerRes.player.removeStatus[i]);\n\t\t}\n\t\tfor (let i in winnerRes.opp.removeStatus) {\n\t\t\toppStatus = oppStatus.filter(status => status !== winnerRes.opp.removeStatus[i]);\n\t\t}\n\t\tfor (let i in winnerRes.opp.status) {\n\t\t\toppStatus.push(winnerRes.opp.status[i]);\n\t\t}\n\t} else {\n\t\tconsole.log(\"Invalid winner\");\n\t}\n\n\t// Apply bleeding\n\tif (playerStatus.includes(\"Bleeding\")) {\n\t\tplayerHp -= Math.round(state.SBState.oppAtk * 0.05);\n\t}\n\tif (oppStatus.includes(\"Bleeding\")) {\n\t\toppHp -= Math.round(state.SBState.playerAtk * 0.05);\n\t}\n\n\t// Undying passive\n\tif (\n\t\tplayerHp <= 0 &&\n\t\tstate.SBState.playerPassive.includes(SkillNames.PAS_UNDYING) &&\n\t\t!state.SBState.playerUsedUndying\n\t) {\n\t\tplayerHp = Math.round(state.SBState.playerHp * 0.2);\n\t\tplayerStatus = [];\n\t\tplayerSetUndying = true;\n\t}\n\tif (oppHp <= 0 && state.SBState.oppPassive.includes(SkillNames.PAS_UNDYING) && !state.SBState.oppUsedUndying) {\n\t\toppHp = Math.round(state.SBState.playerHp * 0.2);\n\t\toppStatus = [];\n\t\toppSetUndying = true;\n\t}\n\n\t// Check state of game\n\tif (playerHp <= 0 && oppHp <= 0) endStatus = \"Tie\";\n\telse if (playerHp <= 0) endStatus = \"Win-opp\";\n\telse if (oppHp <= 0) endStatus = \"Win-player\";\n\n\t// If still alive, can escape\n\tif (winnerRes.player.end === \"Escape\") {\n\t\tendStatus = \"Escape-player\";\n\t}\n\tif (winnerRes.opp.end === \"Escape\") {\n\t\tendStatus = \"Escape-opp\";\n\t}\n\n\t// Set text\n\tlet sysText = winnerRes.player.sysText + \" \" + winnerRes.opp.sysText;\n\n\tif (Math.round(winnerRes.player.hp) > 0) {\n\t\tsysText += \" You gain \" + Math.round(winnerRes.player.hp) + \" health.\";\n\t\tif (winnerRes.player.energy > 0) {\n\t\t\tsysText = sysText.substr(0, sysText.length - 1);\n\t\t\tsysText += \" and \" + Math.round(winnerRes.player.energy) + \" energy.\";\n\t\t}\n\t}\n\n\tplayerStatus = [...new Set(playerStatus)];\n\toppStatus = [...new Set(oppStatus)];\n\n\treturn state.merge({\n\t\tdialSysText: sysText,\n\t\tSBState: state.SBState.merge({\n\t\t\tturn: state.SBState.turn + 1,\n\t\t\tplayerHp: playerHp,\n\t\t\tplayerEnergy: playerEnergy,\n\t\t\tplayerStatus: playerStatus,\n\t\t\tplayerUsedUndying: playerSetUndying && state.SBState.playerUsedUndying,\n\t\t\toppHp: oppHp,\n\t\t\toppEnergy: oppEnergy,\n\t\t\toppStatus: oppStatus,\n\t\t\toppUsedUndying: oppSetUndying && state.SBState.oppUsedUndying,\n\t\t\tendResult: endStatus\n\t\t})\n\t});\n}\n\nexport default ProcessSkill;\n","/**\n * ProcessSBEnd.js by zhongz132@gmail.com\n *\n * Processes the results from a spar or battle\n */\n\nimport ProcessRewards from \"./ProcessRewards.js\";\n\nfunction ProcessSBEnd(state) {\n\tlet type = state.SBState.type;\n\tlet endResult = state.SBState.endResult;\n\tif (type === \"Spar\") {\n\t\tswitch (endResult) {\n\t\t\tcase \"Win-player\":\n\t\t\t\tif (state.doneSpar.includes(state.curChar)) {\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\tcurLoc: state.prevLoc,\n\t\t\t\t\t\tdialSysText: \"You have defeated \" + state.CharData[state.curChar].name + \".\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstate = ProcessRewards(state, state.CharData[state.curChar].interact.spar.reward);\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\tcurLoc: state.prevLoc,\n\t\t\t\t\t\tdialSysText: \"You have won!\",\n\t\t\t\t\t\tdoneSpar: [...state.doneSpar, state.curChar]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\tcase \"Win-opp\":\n\t\t\t\treturn state.merge({ curLoc: state.prevLoc, dialSysText: \"You have lost the spar.\" });\n\t\t\tcase \"Tie\":\n\t\t\t\treturn state.merge({ curLoc: state.prevLoc, dialSysText: \"There is no winner.\" });\n\t\t\tcase \"Escape-player\":\n\t\t\t\treturn state.merge({ curLoc: state.prevLoc, dialSysText: \"Coward....\" });\n\t\t\tcase \"Escape-opp\":\n\t\t\t\tif (state.doneSpar.includes(state.curChar)) {\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\tcurLoc: state.prevLoc,\n\t\t\t\t\t\tdialSysText: state.CharData[state.curChar].name + \" ran away.\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstate = ProcessRewards(state, state.CharData[state.curChar].interact.spar.reward);\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\tcurLoc: state.prevLoc,\n\t\t\t\t\t\tdialSysText: \"Your opponent ran away! You won.\",\n\t\t\t\t\t\tdoneSpar: [...state.doneSpar, state.curChar]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"ERROR: Invalid end result in spar:\", endResult);\n\t\t\t\treturn state.merge({ curLoc: state.prevLoc });\n\t\t}\n\t}\n\treturn state;\n}\n\nexport default ProcessSBEnd;\n","/**\n * Game.js by zhongz132@gmail.com\n *\n * Stores all data for the game.\n */\n\n/**\n * The prefix for the different game objects, as well as their subtypes.\n */\nexport const _prefix = {\n\tLocation: \"LOC\",\n\tElement: \"ELE\",\n\tInteraction: \"INT\",\n\tItem: \"ITM\",\n\tPassive: \"PAS\",\n\tSkill: \"SKL\",\n\tType: \"TYP\",\n\tLogic: \"LGC\"\n};\n\nexport const _interactionPrefix = {\n\tTalk: \"TLK\",\n\tLearn: \"LRN\",\n\tQuest: \"QST\",\n\tSpar: \"SPR\",\n\tBattle: \"BTL\",\n\tTrade: \"TRD\"\n};\n\nexport const _itemPrefix = {\n\tWeapon: \"WPN\",\n\tArmor: \"AMR\",\n\tQuest: \"QST\",\n\tOther: \"OTH\"\n};\n\nexport const _skillPrefix = {\n\tAttack: \"ATK\",\n\tDefense: \"DEF\",\n\tAgility: \"AGI\",\n\tOther: \"OTH\"\n};\n\nexport const _prefixToName = {\n\tLOC: \"Location\",\n\tELE: \"Element\",\n\tINT: \"Interaction\",\n\tITM: \"Item\",\n\tPAS: \"Passive\",\n\tSKL: \"Skill\",\n\tTYP: \"Type\",\n\tLGC: \"Logic\",\n\tTLK: \"Talk\",\n\tLRN: \"Learn\",\n\tQST: \"Quest\",\n\tSPR: \"Spar\",\n\tBTL: \"Battle\",\n\tTRD: \"Trade\",\n\tWPN: \"Weapon\",\n\tAMR: \"Armor\",\n\tOTH: \"Other\",\n\tATK: \"Attack\",\n\tDEF: \"Defense\",\n\tAGI: \"Agility\"\n}\n\n/**\n * The names of each of the game objects. We keep these as there are many situations where we only need\n * a certain type of object, and looping through all objects in GameData in expensive.\n * Segements created by the searchable segmenets.\n */\nexport const GameNames = {\n\tLocation: {},\n\tElement: {},\n\tInteraction: {\n\t\tTalk: {},\n\t\tLearn: {},\n\t\tQuest: {},\n\t\tSpar: {},\n\t\tBattle: {},\n\t\tTrade: {}\n\t},\n\tItem: {\n\t\tWeapon: {},\n\t\tArmor: {},\n\t\tQuest: {},\n\t\tOther: {}\n\t},\n\tPassive: {},\n\tSkill: {\n\t\tAttack: {},\n\t\tDefense: {},\n\t\tAgility: {},\n\t\tOther: {}\n\t},\n\tType: {},\n\tLogic: {}\n};\n\n/**\n * Stores a map from a object id to the object itself.\n */\nexport var GameData = {};\n","/**\n * GameObject.js by zhongz132@gmail.com\n *\n * Base definition of all game objects. Holds members all game objects will inherit.\n */\n\nimport { _prefix, _prefixToName, GameData, GameNames } from \"./../Data.js\";\n//import Util from \"./Util.js\";\n\n/**\n * The template for any game object.\n * Should only be called within a consructor for another class.\n */\nexport function _GameObject(id, parent, context) {\n\tthis.id = id;\n\tthis.parent = parent;\n\t// We should never create an object with children in it.\n\tthis.children = [];\n\tthis.name = \"\";\n\tthis.about = \"\";\n\tthis.showReqs = [];\n\tthis.validReqs = [];\n\tthis.doneReqs = [];\n\tif (typeof context === \"object\") {\n\t\tif (context.name) this.name = context.name;\n\t\telse console.log(\"Warning: Created an object,\", id, \"with no name.\");\n\t\tif (context.about) this.about = context.about;\n\t\telse console.log(\"Warning: Created an object,\", id, \"with no about.\");\n\t\tif (context.showReqs) this.showReqs = context.showReqs;\n\t\tif (context.validReqs) this.validReqs = context.validReqs;\n\t\tif (context.doneReqs) this.doneReqs = context.doneReqs;\n\t} else console.log(\"Warning: Created an object,\", id, \"with no context.\");\n}\n\n/**\n * Acts like the prototype to _GameObject.\n */\nconst GameObject = {\n\t_validateString: function(input) {\n\t\tif (input === null) return false;\n\t\tif (input === undefined) return false;\n\t\tif (typeof input !== \"string\") return false;\n\t\tif (input.length === 0) return false;\n\t\treturn true;\n\t},\n\n\t_idExists: function(id) {\n\t\tif (id in GameData) return true;\n\t\treturn false;\n\t},\n\n\t_getObjType: function(id) {\n\t\treturn id.substring(0, 3);\n\t},\n\n\t_getObjSubType: function(id) {\n\t\treturn id.substring(4, 7);\n\t},\n\n\t// This is called by delete. It garuntees that the parent is also deleted, so we do no need\n\t// to dereference in the parent.\n\t_delete: function(id) {\n\t\tif (!this._idExists(id)) throw new ReferenceError(\"Id does not exist,\", id);\n\t\tfor (let i in GameData[id].children) {\n\t\t\tthis._delete(GameData[id].children[i]);\n\t\t}\n\t\tlet objectType = this._getObjType(id);\n\t\tlet objectSubType = undefined;\n\t\tif (objectType === _prefix.Location) {\n\t\t\tfor (let i in GameData[id].elements) {\n\t\t\t\tthis.delete(GameData[id].elements[i]);\n\t\t\t}\n\t\t}\n\t\tif (objectType === _prefix.Interaction || objectType === _prefix.Item || objectType === _prefix.Skill) {\n\t\t\tobjectSubType = this._getObjSubType(id);\n\t\t}\n\t\tobjectType = _prefixToName[objectType];\n\t\tconsole.log(objectType, id);\n\t\tif (objectSubType !== undefined) {\n\t\t\tobjectSubType = _prefixToName[objectSubType];\n\t\t\tdelete GameNames[objectType][objectSubType][id];\n\t\t} else delete GameNames[objectType][id];\n\t\tdelete GameData[id];\n\t},\n\n\t// Create a new game object. This is just a template for the rest. Includes members every other\n\t// game object will have.\n\tcreate: function(id, parentId, context) {\n\t\tthrow new ReferenceError(\"Invalid call of create\", id);\n\t},\n\n\t// WARNING: DELETES ALL CHILDREN AND EXTENDED CHILDREN\n\t// WARNING: TAKES O((objects)*depth) time.\n\t// WARNING: THIS ACTION IS CURRENTLY IRREVERSABLE\n\tdelete: function(id) {\n\t\tif (!this._idExists(id)) throw new ReferenceError(\"Id does not exist,\", id);\n\t\tconsole.log(\"Warning: Deleted object\", id, \"and all objects reliant on it.\");\n\t\tlet parentId = GameData[id].parent;\n\t\t// Recursive delete\n\t\tthis._delete.call(this, id);\n\t\t// Remove the element from the parent's children\n\t\t// This is inefficient, as linear time search, but we need to perserve order.\n\t\t// Thankfully, there should never be more than 10-11 children in an object, so it does not\n\t\t// justify building an object and array to support lienar time search.\n\t\tif (this._getObjType(id) === _prefix.Element){\n\t\t\tGameData[parentId].elements.splice(GameData[parentId].elements.indexOf(id), 1);\n\t\t} else GameData[parentId].children.splice(GameData[parentId].children.indexOf(id), 1); \n\n\t},\n\n\t// Get the parent id. All objects will have a parent member, but some will be undefined. This is okay.\n\tgetParent: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].parent;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\t// Should NEVER call this from the Game module. Throw an error.\n\tsetParent: function(id, parent) {\n\t\tthrow new ReferenceError(\"Invalid call of setParent:\", id);\n\t},\n\n\t// Get the children ids. All objects will have a children member, but some will be undefined. This is okay.\n\tgetChildren: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].children;\n\t},\n\n\t// Should NEVER call this from Game module. Throw an error.\n\tsetChildren: function(id, childrenId) {\n\t\tthrow new ReferenceError(\"Invalid call of setChildren:\", id);\n\t},\n\n\t// Should NEVER call this from Game module. Throw an error.\n\taddChildren: function(id, childrenId) {\n\t\tthrow new ReferenceError(\"Invalid call of addChildren:\", id);\n\t},\n\n\t// Getter function for name. Valid on all game objects. On success return name, else return emptystring.\n\tgetName: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].name;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\t// Error check for valid name is done on user input through validateString. No need to repeat\n\tsetName: function(id, name) {\n\t\tif (this._idExists(id)) {\n\t\t\tGameData[id].name = name;\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tgetAbout: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].about;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tsetAbout: function(id, about) {\n\t\tif (this._idExists(id)) {\n\t\t\tGameData[id].about = about;\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tgetShowReqs: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].showReqs;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tsetShowReqs: function(id, showReqs) {\n\t\tif (this._idExists(id)) {\n\t\t\tGameData[id].showReqs = showReqs;\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tgetValidReqs: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].validReqs;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tsetValidReqs: function(id, validReqs) {\n\t\tif (this._idExists(id)) {\n\t\t\tGameData[id].validReqs = validReqs;\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tgetDoneReqs: function(id) {\n\t\tif (this._idExists(id)) return GameData[id].doneReqs;\n\t\tthrow new ReferenceError(id);\n\t},\n\n\tsetDoneReqs: function(id, doneReqs) {\n\t\tif (this._idExists(id)) {\n\t\t\tGameData[id].doneReqs = doneReqs;\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ReferenceError(id);\n\t}\n};\n\nexport default GameObject;\n","/**\n * verboseSettings.js by zhongz132@gmail.com\n *\n * Settings for what gets printed to the log and console\n */\n\n/**\n * Meanings of each setting:\n * \n * Note: verboseConsole is always on, and can not be turned off.\n *\n * verboseLog: Will record errors and allowed settings to a text log.\n *\n * statBuild: If true, will record/print stats on the build of the game objects.\n * statBuildFreq: If statBuild, will show the stats every 'x' constructor calls for game object builts.\n * \n */\nconst verboseSettings = {\n\tverboseLog: false,\n\n\tstatBuild: true,\n\tstatBuildFreq: 20,\n}\n\nexport default verboseSettings;","/**\n * Location.js by zhongz132@gmail.com\n *\n * Definition of the location object and its supporting funtions.\n * Generate new location, get location information, and maintain the relationship between them.\n * Creating a new location is expensive, but everything else can be done in average O(1) through hash lookup.\n * Note: locIds (string) will all start with \"LOC_\", then the location name, but the path should never include \"LOC\"\n */\n\nimport verboseSettings from \"./../../verboseSettings.js\";\nimport { _prefix, GameNames, GameData } from \"./../Data.js\";\nimport GameObject, { _GameObject } from \"./../Common/GameObject.js\";\n\n// Keep track of how many succesful and failed location builds. Useful for debugging/stats\nlet _tries = 0;\nlet _success = 0;\n\n// Definition of the prefix for all locations\nlet _locPrefix = _prefix.Location;\nlet _baseId = \"LOC\";\n\n/**\n * Constructor for a location. Each location requires a unique path and parent, which will be handeled internally.\n *\n * Description of each member variable:\n *    locId (Internal): The locId of the current location. Needed for creating children efficeiently.\n *    parent (Internal): The parent locId of the current location.\n *    children (Internal): The children locIds of the current location. We are garunteed each child is unique\n *                         by design. Furthermore, we usually only push to the back. Only in dev tools, and\n *                         rarely so, do we ever want to delete.\n *    name (Screen): The name to display in the game screen of the location.\n *    about (Screen): A description of the location to display in the game screen.\n *    showReqs (Logic): Requirements to show the location.\n *                      *Pretty rarely used, but makes sense to exist.*\n *    validReqs (Logic): Requirements for the location to be valid (enterable by player).\n *    elements (Logic): The elements accessible in this location. Maps elementId to the display name on game screen.\n *                      We check for uniquenes.\n *                      *Can add to this externally.*\n */\nfunction _Location(locId, parent, context) {\n\t_GameObject.call(this, locId, parent, context);\n\tthis.elements = []; // Type: array of strings (elementId)\n\tif (context) {\n\t\tif (context.elements) {\n\t\t\tif (Array.isArray(context.elements)) this.elements = context.elements;\n\t\t\tconsole.log(\"Warning: Added elements in location constructor\");\n\t\t}\n\t} else if (locId !== \"LOC\") {\n\t\tconsole.log(\"Warning: Created a new location with no context:\", locId);\n\t}\n}\n\n// The base location. The parent to the highest level locations. Should never be referenced.\nvar _baseLoc = new _Location(_baseId, undefined, undefined);\nGameData[_baseId] = _baseLoc;\nGameNames.Location[_baseId] = _baseId;\n\n/**\n * Functions which are supported by location.\n */\nvar Loc = Object.create(GameObject);\n\n/**\n * Helper functions, which will never be needed anywhere else. Thus we do not export\n */\nlet createLocId = function(locName, parent) {\n\tlocName = locName.toUpperCase();\n\treturn parent + \"_\" + locName;\n}\n\n/**\n * Overwritten functions.\n */\n\n// Is this needed?\n/*\nLoc[\"_idExists\"] = function(locId) {\n\tif (locId in GameNames.Location) return true;\n\treturn false;\n};\n*/\n\nLoc[\"_idExists\"] = function(locId) {\n\tif (locId in GameNames.Location) return true;\n\treturn false;\n}\n\n// No error check. This should always be done by the caller.\nLoc[\"addChildren\"] = function(locId, parent) {\n\tGameData[parent].children.push(locId);\n}\n\n// TODO: MAYBE CHANGE WHAT THIS DOES\nLoc[\"setChildren\"] = function(locId, children) {\n\tif (!this._idExists(locId)) throw new ReferenceError(\"Id does not exist,\", locId);\n\tconsole.log(\"Warning: Setting children without properly deleting them may cause unreferend locations.\")\n\tGameData[locId].children = children;\n}\n\n// No error check. This should always be done by the caller.\nLoc[\"addElement\"] = function(elementId, parent) {\n\tif (!this._idExists(parent)) throw new ReferenceError(\"Location to add element does not exist.\");\n\tGameData[parent].elements.push(elementId);\n}\n\nLoc[\"create\"] = function(locName, parent, context) {\n\tif (verboseSettings.statBuild && _tries % verboseSettings === 0) {\n\t\tconsole.log(\"Tried to build \" + _tries + \" locations and succeeded on \" + _success + \" of them.\");\n\t}\n\t_tries += 1;\n\tif (!this._idExists(parent)) throw new ReferenceError(\"Parent does not exist,\", parent);\n\tlet newLocId = createLocId(locName, parent);\n\tif (this._idExists(newLocId)) throw new ReferenceError(\"Duplicate keys,\", newLocId);\n\n\t// Double check error pased. Now to create the object.\n\tlet newLocation = new _Location(newLocId, parent, context);\n\tGameData[newLocId] = newLocation;\n\tGameNames.Location[newLocId] = newLocId;\n\t// Add the childId to the parent's children.\n\tthis.addChildren(newLocId, parent);\n\t_success += 1;\n};\n\nexport default Loc;\n","/**\n * Element.js by zhongz132@gmail.com\n *\n * Definition of each element object, and how to create and modify one.\n */\n\nimport verboseSettings from \"./../../verboseSettings.js\";\nimport GameObject, { _GameObject } from \"./../Common/GameObject.js\";\nimport Loc from \"./../Locations/Location.js\";\nimport { GameNames, GameData, _prefix, _prefixToName } from \"./../Data.js\";\n\n// Used to remember statsitics on build. Can help in debuggin\nlet _tries = 0;\nlet _success = 0;\n\n// Prefix for all elements\nlet _elePrefix = _prefix.Element;\n\n/**\n * Constructor for an element. These are usually characters which are interactable.\n *\n * Description of each member varible:\n *    elementId (internal): The unique elementId of the element.\n *    parentId (internal): The unique parentId of the element.\n *    name (Screen): The name the element will display on the game screen.\n *    about (Screen): The description of the element to display on the game screen.\n *    type (Logic): The type of character. This will determine stats, passives, and skills of a element.\n *    logic (Logic): The actions the character will take in a spar or battle.\n *    showReqs (Logic): Requirements to show the element.\n *    validReqs (Logic): Requirements for the element to be interactable.\n *    doneReqs (Logic): Requirements for the element to be marked as done.\n *    interactions (Logic/Screen): The interactions available to the character.\n */\nfunction _Element(elementId, parent, context) {\n\t_GameObject.call(this, elementId, parent, context);\n\tthis.type = \"TYPE_NONE\";\n\tthis.logic = \"LOGIC_BASIC\";\n\tif (context) {\n\t\tif (context.type && typeof context.type === \"string\") this.type = context.type;\n\t\tif (context.logic && typeof context.logic === \"string\") this.logic = context.logic;\n\t} else {\n\t\tconsole.log(\"Warning: Created a game element\", elementId, \"with no context in,\", parent);\n\t}\n}\n\nlet _createElementId = function(elementName, parent) {\n\treturn parent + \"_\" + elementName.toUpperCase();\n}\n\nvar Ele = Object.create(GameObject);\n\nEle[\"create\"] = function(elementName, parent, context) {\n\tif (verboseSettings.statBuild && _tries % verboseSettings === 0) {\n\t\tconsole.log(\"Tried to build \" + _tries + \" elements and succeeded on \" + _success + \" of them.\");\n\t}\n\t_tries += 1;\n\t// Error checks\n\tif (this._getObjType(parent) !== _prefix.Location) throw new ReferenceError(\"Parent of element not a location.\");\n\tif (!Loc._idExists(parent)) throw new ReferenceError(\"Parent location does not exist.\");\n\tlet newElementId = _createElementId(elementName, parent);\n\tif (this._idExists(newElementId)) throw new ReferenceError(\"Duplicate element name in location.\");\n\n\tlet newElement = new _Element(newElementId, parent, context);\n\tGameData[newElementId] = newElement;\n\tGameNames.Element[newElementId] = newElementId;\n\t// Add to parent\n\tLoc.addElement(newElementId, parent);\n\t_success += 1;\n};\n\nexport default Ele;\n","/**\n * Game.js by zhongz132@gmail.com\n *\n * Controls the game.\n */\n\nimport GameObject from \"./Common/GameObject.js\";\nimport LocationObject from \"./Locations/Location.js\";\nimport ElementObject from \"./Elements/Element.js\";\nimport { GameData } from \"./Data.js\";\n/*\nvar fs = require(\"./defuntdata.json\");\n\nfor (let i in fs) {\n\tconsole.log(i, fs[i]);\n}\n*/\n\nvar data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(GameData));\n\nvar a = document.createElement(\"a\");\na.href = \"data:\" + data;\na.download = \"data.json\";\na.innerHTML = \"download JSON\";\n\nvar container = document.getElementById(\"container\");\ncontainer.appendChild(a);\n\n/**\n * TODO:\n *\n * 1. Ensure that seamless transition works between objects and JSON strings.\n * 2.\n *\n */\n\n/*\n * Holds all game functions.\n */\nconst Game = {\n\tGameObject: GameObject,\n\tLocation: LocationObject,\n\tElement: ElementObject,\n\n\tLoadGame: function() {},\n\n\tSaveGame: function() {},\n\n\tLoadDeveloper: function() {},\n\n\tSaveGameVersion: function() {\n\t\tconsole.log(\"Saving: \", GameData);\n\t\tdata = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(GameData));\n\t\ta.href = \"data:\" + data;\n\t},\n\n\tprintData: function() {\n\t\tconsole.log(GameData);\n\t}\n};\n\nexport default Game;\n","/**\n * GameStore.js by zhongz132@gmail.com\n *\n * Stores the dialog information in the game screen.\n */\n\n//import Immutable from \"immutable\";\nimport { ReduceStore } from \"flux/utils\";\nimport { GameActionTypes } from \"./AppActionTypes\";\n//import LocId from \"./Locations/LocIdGen.js\";\nimport Game from \"./Utils/Game.js\";\nimport AppDispatcher from \"./AppDispatcher.js\";\n//import LocationData from \"./Locations/LocationData.js\";\n//import CharacterData from \"./Characters/CharacterData.js\";\n//import test from \"./test.js\"\nimport { UpdateChar, UpdateLoc } from \"./Utils/UpdateReqs.js\";\nimport ProcessRewards from \"./Utils/ProcessRewards.js\";\nimport ProcessTake from \"./Utils/ProcessTake.js\";\nimport StartSpar from \"./Utils/StartSpar.js\";\nimport GetSkillInfo from \"./Utils/GetSkillInfo.js\";\nimport ProcessSkill from \"./Utils/ProcessSkill.js\";\nimport ProcessSBEnd from \"./Utils/ProcessSBEnd.js\";\nimport GameTest from \"./Game/Game.js\";\n\nclass GameStore extends ReduceStore {\n\tconstructor() {\n\t\tsuper(AppDispatcher);\n\t}\n\n\tgetInitialState() {\n\t\tGameTest.Location.create(\"World\", \"LOC\");\n\t\tGameTest.printData();\n\t\tGameTest.Location.create(\"Dojo\", \"LOC_WORLD\");\n\t\tGameTest.Location.create(\"School\", \"LOC_WORLD\");\n\t\tGameTest.Location.create(\"Shop\", \"LOC_WORLD\");\n\t\tGameTest.Location.delete(\"LOC_WORLD\");\n\t\tGameTest.SaveGameVersion();\n\t\treturn UpdateLoc(new Game(), \"World_Lian\");\n\t}\n\n\treduce(state, action) {\n\t\tswitch (action.type) {\n\t\t\tcase GameActionTypes.SWITCH_LOCATION:\n\t\t\t\tstate = UpdateLoc(state, action.locId);\n\t\t\t\tif (action.locId === \"Back\") {\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\t//locData: updateReqs(state.locData[state.curLoc], state),\n\t\t\t\t\t\tcurLoc: state.prevLoc,\n\t\t\t\t\t\tcurChar: \"\",\n\t\t\t\t\t\tdialLocId: \"\",\n\t\t\t\t\t\tdialCharId: \"\",\n\t\t\t\t\t\tdialSysText: \"\",\n\t\t\t\t\t\tdialCharText: \"\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\t//locData: updateReqs(state.locData[action.locId], state),\n\t\t\t\t\t\tprevLoc: state.curLoc,\n\t\t\t\t\t\tcurLoc: action.locId,\n\t\t\t\t\t\tcurChar: \"\",\n\t\t\t\t\t\tdialLocId: \"\",\n\t\t\t\t\t\tdialCharId: \"\",\n\t\t\t\t\t\tdialSysText: \"\",\n\t\t\t\t\t\tdialCharText: \"\",\n\t\t\t\t\t\ttime: state.time + state.LocData[action.locId].time\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\tcase GameActionTypes.DIAL_LOC_ABOUT:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tdialLocId: action.locId,\n\t\t\t\t\tdialCharId: \"\",\n\t\t\t\t\tdialSysText: state.LocData[action.locId].about,\n\t\t\t\t\tdialCharText: \"\"\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.DIAL_CHAR_ABOUT:\n\t\t\t\tstate = UpdateChar(state, action.charId);\n\t\t\t\treturn state.merge({\n\t\t\t\t\tcurChar: action.charId,\n\t\t\t\t\tdialSysText: state.CharData[action.charId].about,\n\t\t\t\t\tdialCharText: \"\",\n\t\t\t\t\tdialCharId: action.charId\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.DIAL_CHAR_TALK:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tdialSysText: \"\",\n\t\t\t\t\tdialCharText: action.dialCharText\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.DIAL_SKILL_INFO:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tdialSysText: GetSkillInfo(state.SkillData[action.skillId]),\n\t\t\t\t\tdialCharText: \"\"\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.SWITCH_PLAYER_VIEW:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tplayerView: action.playerView\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_TRAIN:\n\t\t\t\tlet difference = state.CharData[state.dialCharId][action.stat] - state.player[action.stat];\n\t\t\t\tdifference = Math.max(difference, 1);\n\t\t\t\tdifference = Math.log(difference * action.multiplier);\n\t\t\t\tdifference = Math.round(difference);\n\t\t\t\tlet toAdd = difference | 0;\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.set(action.stat, state.player[action.stat] + toAdd),\n\t\t\t\t\tdialCharText: \"\",\n\t\t\t\t\tdialSysText: \"You gained \" + toAdd + \" points in \" + action.stat.toUpperCase(),\n\t\t\t\t\ttime: state.time + state.CharData[state.curChar].interact.train.time\n\t\t\t\t});\n\t\t\t\treturn UpdateChar(state, state.dialCharId);\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_LEARN:\n\t\t\t\tlet newSkill = [...state.player.skill];\n\t\t\t\tnewSkill.push(action.skillId);\n\t\t\t\tstate = state.merge({\n\t\t\t\t\tplayer: state.player.set(\"skill\", newSkill),\n\t\t\t\t\tdialCharText: \"\",\n\t\t\t\t\tdialSysText: \"Congrats! You have learned \" + action.skillId,\n\t\t\t\t\ttime: state.time + action.time\n\t\t\t\t});\n\t\t\t\treturn UpdateChar(state, state.dialCharId);\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_START_QUEST:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tactiveQuest: [...state.activeQuest, action.charId],\n\t\t\t\t\tdialCharText: state.CharData[state.dialCharId].interact.quest.about,\n\t\t\t\t\tdialSysText: \"You have started a quest for \" + state.CharData[state.dialCharId].name\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_INFO_QUEST:\n\t\t\t\treturn state.merge({\n\t\t\t\t\tdialCharText: state.CharData[state.dialCharId].interact.quest.about,\n\t\t\t\t\tdialSysText: \"\"\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_COMPLETE_QUEST:\n\t\t\t\tlet reward = state.CharData[action.charId].interact.quest.reward;\n\t\t\t\tstate = ProcessRewards(state, reward);\n\t\t\t\tif (state.CharData[action.charId].interact.quest.take) {\n\t\t\t\t\tstate = ProcessTake(state, state.CharData[action.charId].interact.quest.take);\n\t\t\t\t}\n\t\t\t\treturn state.merge({\n\t\t\t\t\tcompleteQuest: [...state.completeQuest, action.charId],\n\t\t\t\t\tactiveQuest: state.activeQuest.filter(quest => quest !== action.charId),\n\t\t\t\t\tdialCharText: state.CharData[state.dialCharId].interact.quest.doneText,\n\t\t\t\t\tdialSysText: \"You have completed the quest for \" + state.CharData[state.dialCharId].name\n\t\t\t\t});\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_SB:\n\t\t\t\tif (action.sbType === \"Spar\") {\n\t\t\t\t\treturn state.merge({\n\t\t\t\t\t\ttime: state.time + state.CharData[state.curChar].interact.spar.time,\n\t\t\t\t\t\tprevLoc: state.curLoc,\n\t\t\t\t\t\tcurLoc: \"Spar\",\n\t\t\t\t\t\tplayerView: \"overview\",\n\t\t\t\t\t\tSBState: StartSpar(state)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn state;\n\n\t\t\tcase GameActionTypes.CHAR_INTERACT_END_SB:\n\t\t\t\tstate = ProcessSBEnd(state);\n\t\t\t\tconsole.log(state.curLoc);\n\t\t\t\tstate = UpdateChar(state, state.curChar);\n\t\t\t\treturn UpdateLoc(state, state.curLoc);\n\n\t\t\tcase GameActionTypes.SB_PROCESS_MOVE:\n\t\t\t\treturn ProcessSkill(state, action.skillId);\n\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t}\n}\n\nexport default new GameStore();\n","/**\n * AppContainer.js by zhongz132@gmail.com\n * \n * Container for the whole application.\n */\n\nimport {Container} from 'flux/utils';\nimport App from './../views/App.js';\nimport {ScreenActions, GameActions} from './../data/AppActions.js';\nimport ScreenStateStore from './../data/ScreenStateStore.js';\nimport GameStore from './../data/GameStore.js';\n\nfunction getStores() {\n\treturn [\n\t\tScreenStateStore,\n\t\tGameStore,\n\t];\n}\n\nfunction getState() {\n\treturn {\n\t\tscreenState: ScreenStateStore.getState(),\n\t\tgameState: GameStore.getState(),\n\n\t\tonSwitchScreen: ScreenActions.switchScreen,\n\t\tonChangeName: ScreenActions.changeName,\n\t\tonChangeGameId: ScreenActions.ChangeGameId,\n\n\t\tonSwitchLocation: GameActions.switchLocation,\n\t\tonDialLocAbout: GameActions.dialLocAbout,\n\t\tonDialCharAbout: GameActions.dialCharAbout,\n\t\tonDialCharTalk: GameActions.dialCharTalk,\n\t\tonDialSkillInfo: GameActions.dialSkillInfo,\n\t\tonSwitchPlayerView: GameActions.switchPlayerView,\n\t\tonTrain: GameActions.train,\n\t\tonLearnSkill: GameActions.learnSkill,\n\t\tonStartQuest: GameActions.startQuest,\n\t\tonInfoQuest: GameActions.infoQuest,\n\t\tonCompleteQuest: GameActions.completeQuest,\n\t\tonStartSB: GameActions.startSB,\n\t\tonEndSB: GameActions.endSB,\n\t\tonProcessSBMove: GameActions.processSBMove\n\t}\n}\n\nexport default Container.createFunctional(App, getStores, getState)","/**\n * index.js by zhongz132@gmail.com\n * \n * Run the app!\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppContainer from './containers/AppContainer.js'\nimport './views/App.css'\n\nReactDOM.render(<AppContainer />, document.getElementById('root'))"],"sourceRoot":""}